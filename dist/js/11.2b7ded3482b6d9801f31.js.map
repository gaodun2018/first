{"version":3,"sources":["webpack:///./src/util/play.js","webpack:///src/components/resourceCenter/videoManage/resourceModuleVideoInteractive.vue","webpack:///./src/components/resourceCenter/videoManage/resourceModuleVideoInteractive.vue?a144","webpack:///./src/components/resourceCenter/videoManage/resourceModuleVideoInteractive.vue"],"names":["getSWF","objectId","window","document","navigator","appName","indexOf","getElementById","embeds","VideoPlayer","TYPE_BOKECC","TYPE_FLASH","TYPE_HTML5","newInstance","obj","undefined","instance","player","pgid","id","type","start","play2","play","pause","resume","seek","time","currentTime","getDuration","duration","getPosition","getCurrentTime","autoPlay","Func","data","click","end","onended","getVideoPlayer","videoPlay","players","getElementsByTagName","resourceModuleVideoInteractive","_openTime","openTime","defineProperty_default","i","value","_i","_value","suggestHour","suggestMinuteAndSecond","parseInt","this","ruleForm","hour","minute","second","h","m","s","_this","httpCreateInsteractive","httpUpdateInsteractive","_this2","then","Id","getInsteractiveList","catch","row","Times","toString","title","Name","item_ids","Item_ids","_this3","aTime","params","_this4","_secondToDate2","Object","util","timer","_this5","result","_this6","ret","resource","video_id","error","src","script","_this7","initData","videoManage_resourceModuleVideoInteractive","render","_vm","_h","$createElement","_c","_self","staticClass","_v","_s","ref","attrs","round","on","handleFlag","staticStyle","width","border","tableData","label","align","scopedSlots","_u","key","fn","scope","_f","prop","fixed","$event","didClickEdit","onRemove","center","visible","dialogFormVisible","update:visible","model","label-width","required","span","fetch-suggestions","querySearchH","callback","$$v","$set","expression","querySearchMS","rules","filter_rules","maxLength","placeholder","slot","resetForm","loading","btnLoading","submitForm","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"js/11.2b7ded3482b6d9801f31.js","sourcesContent":["\n function on_cc_player_init(vid, objectId ){\n     var config = {};\n     //关闭右侧菜单\n     config.rightmenu_enable = 0;\n     config.on_player_stop = \"on_spark_player_stop\";\n     player = getSWF(objectId);\n     player.setConfig(config);\n }\n \n function getSWF(objectId) {\n    if (window.document[ objectId ]) {\n         return window.document[ objectId ];\n     } else if (navigator.appName.indexOf(\"Microsoft\") == -1) {\n         if (document.embeds && document.embeds[ objectId ]) {\n             return document.embeds[ objectId ];\n         }\n     } else {\n         return document.getElementById( objectId );\n     }\n }\n \n //获取视频播放时长\n function getVideoTime() {\n \tvar player = VideoPlayer.getVideoPlayer();\n \treturn player.getPosition();\n }\n \n \n var VideoPlayer = {\n \n \t// Player types.\n \tTYPE_BOKECC : 1,\n \tTYPE_FLASH  : 2,\n \tTYPE_HTML5  : 3,\n \n \tnewInstance : function(obj) {\n \t\t// Check the argument.\n \t\tif (obj === undefined || obj === null) {\n \t\t\treturn null;\n \t\t}\n \t\t\n \t\t// Initiate an empty instance.\n \t\tvar instance = {};\n \n \t\t// Save the external video player.\n \n \t\tinstance.player = obj;\n \n \t\t// Check its type via its ID.\n \t\tvar pgid = instance.player.id;\n \n \t\tif (pgid === undefined || pgid == \"\") {\n \t\t\t// The ID attribute of the video tag is usually undefined.\n \t\t\tinstance.type = VideoPlayer.TYPE_HTML5;\n \t\t}\n \t\telse if (pgid.indexOf(\"videoPlayer_\") !== -1) {\n \t\t\t// The ID attribute of the Flash video player should begins with \"videoPlayer_\" always.\n \t\t\tinstance.type = VideoPlayer.TYPE_FLASH;\n \t\t}\n \t\telse {\n \t\t\t// Then we consider it as a bokecc (Flash) video player.\n \n \t\t\tinstance.type = VideoPlayer.TYPE_BOKECC;\n \t\t}\n \n \t\t// Player methods.\n \t\tinstance.start = function() {\n \t\t\tswitch (instance.type) {\n \t\t\t\tcase VideoPlayer.TYPE_BOKECC :\n \t\t\t\t\tinstance.player.start();\n \t\t\t\t\tbreak;\n \t\t\t\tcase VideoPlayer.TYPE_FLASH :\n \t\t\t\t\tinstance.player.play2();\n \t\t\t\t\tbreak;\n \t\t\t\tcase VideoPlayer.TYPE_HTML5 :\n \t\t\t\t\tinstance.player.play();\n \t\t\t\t\tbreak;\n \t\t\t}\n \t\t};\n \t\tinstance.pause = function() {\n \t\t\tinstance.player.pause();\n \t\t};\n \t\tinstance.resume = function() {\n \t\t\tswitch (instance.type) {\n \t\t\t\tcase VideoPlayer.TYPE_BOKECC :\n \t\t\t\t\tinstance.player.resume();\n \t\t\t\t\tbreak;\n \t\t\t\tcase VideoPlayer.TYPE_FLASH :\n \t\t\t\t\tinstance.player.play2();\n \t\t\t\t\tbreak;\n \t\t\t\tcase VideoPlayer.TYPE_HTML5 :\n \t\t\t\t\tinstance.player.play();\n \t\t\t\t\tbreak;\n \t\t\t}\n \t\t};\n \t\tinstance.seek = function(time) {\n \t\t\tswitch (instance.type) {\n \t\t\t\tcase VideoPlayer.TYPE_BOKECC :\n \t\t\t\t\tinstance.player.seek(time);\n \t\t\t\t\tbreak;\n \t\t\t\tcase VideoPlayer.TYPE_FLASH :\n \t\t\t\t\tinstance.player.seek(time);\n \t\t\t\t\tbreak;\n \t\t\t\tcase VideoPlayer.TYPE_HTML5 :\n \t\t\t\t\tinstance.player.currentTime = time;\n \t\t\t\t\tbreak;\n \t\t\t}\n \t\t};\n \t\tinstance.getDuration = function() {\n \t\t\tswitch (instance.type) {\n \t\t\t\tcase VideoPlayer.TYPE_BOKECC :\n \t\t\t\t\treturn instance.player.getDuration();\n \t\t\t\tcase VideoPlayer.TYPE_FLASH :\n \t\t\t\t\treturn instance.player.getDuration();\n \t\t\t\tcase VideoPlayer.TYPE_HTML5 :\n \t\t\t\t\treturn instance.player.duration;\n \t\t\t}\n \t\t};\n \t\tinstance.getPosition = function() {\n \t\t\tswitch (instance.type) {\n \t\t\t\tcase VideoPlayer.TYPE_BOKECC :\n \t\t\t\t\tvar bckeccid = getSWF(pgid);\n \t\t\t\t\treturn bckeccid.getPosition();\n \t\t\t\tcase VideoPlayer.TYPE_FLASH :\n \t\t\t\t\treturn instance.player.getCurrentTime();\n \t\t\t\tcase VideoPlayer.TYPE_HTML5 :\n \t\t\t\t\treturn instance.player.currentTime;\n \t\t\t}\n \t\t};\n        instance.autoPlay = function(Func,data) {\n            switch (instance.type) {\n                case VideoPlayer.TYPE_BOKECC :\n                    instance.player.start();\n                    break;\n                case VideoPlayer.TYPE_FLASH :\n                    instance.player.play2();\n                    break;\n                case VideoPlayer.TYPE_HTML5 :\n                    instance.player.click();\n                    break;\n            }\n        };\n        instance.end = function(Func,data) {\n            switch (instance.type) {\n                /*  case VideoPlayer.TYPE_BOKECC :\n                      var bckeccid = getSWF(pgid);\n                      return bckeccid.getPosition();*/\n                /*case VideoPlayer.TYPE_FLASH :\n                    return instance.player.Playing + '' + instance.player.ReadyState;*/\n                case VideoPlayer.TYPE_HTML5 :\n                    instance.player.onended = Func(data);\n                    return;\n            }\n        };\n \n \t\treturn instance;\n \t},\n \n \tgetVideoPlayer : function() {\n \t\t// Get a Flash object.\n        var videoPlay = document.getElementById('videoPlay');\n \t\tvar players = videoPlay.getElementsByTagName('object');\n \t\tif (players[0] === undefined) {\n \t\t\t// If the HTML5 video player is used, get the video tags instead.\n \t\t\tplayers = videoPlay.getElementsByTagName('video');\n \t\t}\n \t\tif(typeof(players)!=\"undefined\"){\n \t\t\treturn VideoPlayer.newInstance(players[0]);\n \t\t}else{\n \t\t\treturn false;\n \t\t}\n \t}\n };\n\nexport default VideoPlayer;\n\n\n\n// WEBPACK FOOTER //\n// ./src/util/play.js","<template>\n  <div class=\"module-edu-content video-interactice-wrapper\">\n    <div class=\"outlineeat\">\n      课中交互：【视频资源ID：{{id}}】{{title}}\n    </div>\n    <div class=\"video-content clear\">\n      <div id=\"videoPlay\" class=\"videoPlay\" ref=\"videoPlay\"></div>\n    </div>\n    <el-row class=\"flag-btn-box\">\n      <el-button type=\"primary\" @click=\"handleFlag\" round>标记为重要节点</el-button>\n    </el-row>\n    <el-row>\n      <el-table ref=\"table\" border :data=\"tableData\" style=\"width: 100%\">\n        <el-table-column label=\"序号\" type=\"index\" width=\"50\">\n        </el-table-column>\n        <el-table-column align=\"center\" label=\"重要节点时间点\" width=\"200\">\n          <template slot-scope=\"scope\">\n            {{scope.row.Times | secondToDate}}\n          </template>\n        </el-table-column>\n        <el-table-column prop=\"Name\" align=\"center\" label=\"重要节点名称\">\n        </el-table-column>\n        <el-table-column prop=\"Item_ids\" align=\"center\" label=\"课中练习（题目ID）\" width=\"320\">\n        </el-table-column>\n        <el-table-column fixed=\"right\" label=\"操作\" align=\"center\" width=\"220\">\n          <template slot-scope=\"scope\">\n            <el-button type=\"text\" @click=\"didClickEdit(scope.row)\">修改\n            </el-button>\n            <el-button type=\"text\" @click=\"onRemove(scope.row)\">删除\n            </el-button>\n          </template>\n        </el-table-column>\n      </el-table>\n    </el-row>\n    <el-dialog title=\"新增一个重要节点\" center class=\"tabplane\" :visible.sync=\"dialogFormVisible\">\n      <el-form :model=\"ruleForm\" ref=\"ruleForm\" label-width=\"140px\">\n        <el-form-item label=\"时间点\" required>\n          <el-col :span=\"7\">\n            <el-form-item prop=\"hour\">\n              <el-autocomplete :fetch-suggestions=\"querySearchH\" class=\"coursetxt\" v-model=\"ruleForm.hour\"></el-autocomplete>\n            </el-form-item>\n          </el-col>\n          <el-col :span=\"1\">时</el-col>\n          <el-col :span=\"7\">\n            <el-form-item prop=\"minute\">\n              <el-autocomplete :fetch-suggestions=\"querySearchMS\" class=\"coursetxt\" v-model=\"ruleForm.minute\"></el-autocomplete>\n            </el-form-item>\n          </el-col>\n          <el-col :span=\"1\">分</el-col>\n          <el-col :span=\"7\">\n            <el-form-item prop=\"second\">\n              <el-autocomplete :fetch-suggestions=\"querySearchMS\" class=\"coursetxt\" v-model=\"ruleForm.second\"></el-autocomplete>\n            </el-form-item>\n          </el-col>\n          <el-col :span=\"1\">秒</el-col>\n        </el-form-item>\n        <el-form-item label=\"节点名称\" prop=\"title\" :rules=\"filter_rules({required:true,type:'isAllSpace',maxLength:100})\">\n          <el-input class=\"coursetxt\" placeholder=\"请输入节点名称\" v-model=\"ruleForm.title\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"课中练习（选填 ）\" prop=\"item_ids\" :rules=\"filter_rules({type:'isAllSpace'})\">\n          <el-input class=\"coursetxt\" placeholder=\"请输入题目，多道题目请用英文逗号隔开\" v-model=\"ruleForm.item_ids\"></el-input>\n        </el-form-item>\n      </el-form>\n      <div slot=\"footer\">\n        <el-button @click=\"resetForm('ruleForm')\">重 置</el-button>\n        <el-button type=\"primary\" :loading=\"btnLoading\" @click=\"submitForm('ruleForm')\">{{btnLoading?'保存中':'确 定'}}\n        </el-button>\n      </div>\n    </el-dialog>\n  </div>\n</template>\n<script>\nimport VideoPlayer from \"../../../util/play.js\";\nimport { secondToDate } from \"../../../util/util.js\";\nexport default {\n  components: {},\n  props: [],\n  data() {\n    return {\n      id: \"\", //视频id\n      video_id: \"\", //视频地址\n      title: \"\", //视频名称\n      tableData: [],\n      videoPlayer: null,\n      dialogFormVisible: false,\n      ruleForm: {\n        hour: \"\",\n        minute: \"\",\n        second: \"\",\n        title: \"\",\n        item_ids: \"\"\n      },\n      openTime: {\n        h: \"\",\n        h: \"\",\n        h: \"\"\n      },\n      isCreate: false,\n      duration: 0, //时间总时常\n      btnLoading: false,\n      suggestHour: [],\n      suggestMinuteAndSecond: [],\n      checkTimer: null //延迟起\n    };\n  },\n  mounted() {\n    for (let i = 0; i <= 10; i++) {\n      let k = i < 10 ? \"0\" + i : \"\" + i;\n      let value = { value: k };\n      this.suggestHour.push(value);\n    }\n    for (let i = 0; i <= 60; i++) {\n      let k = i < 10 ? \"0\" + i : \"\" + i;\n      let value = { value: k };\n      this.suggestMinuteAndSecond.push(value);\n    }\n  },\n  methods: {\n    querySearchH(queryString, cb) {\n      // 调用 callback 返回建议列表的数据\n      cb(this.suggestHour);\n    },\n    querySearchMS(queryString, cb) {\n      // 调用 callback 返回建议列表的数据\n      cb(this.suggestMinuteAndSecond);\n    },\n    resetForm(formName) {\n      this.ruleForm = {\n        hour: \"\",\n        minute: \"\",\n        second: \"\",\n        title: \"\",\n        item_ids: \"\"\n      };\n    },\n    // 校验时间\n    checkVideoTime() {\n      let aTime =\n        parseInt(this.ruleForm.hour) * 60 * 60 +\n        parseInt(this.ruleForm.minute) * 60 +\n        parseInt(this.ruleForm.second);\n      if (aTime > this.duration) {\n        this.$message({\n          message: \"设置时间节点已超过视频总时长，请重新设置！\",\n          type: \"warning\"\n        });\n        this.ruleForm.hour = this.openTime.h;\n        this.ruleForm.minute = this.openTime.m;\n        this.ruleForm.second = this.openTime.s;\n        return false;\n      } else {\n        return true;\n      }\n    },\n    submitForm(formName) {\n      this.$refs[formName].validate(valid => {\n        if (valid) {\n          if (!this.checkVideoTime()) return;\n          if (this.isCreate) {\n            this.httpCreateInsteractive();\n          } else {\n            this.httpUpdateInsteractive();\n          }\n        } else {\n          console.log(\"error submit!!\");\n          return false;\n        }\n      });\n    },\n    onRemove(row) {\n      // 删除\n      this.$confirm(\"此操作将删除该节点, 是否继续?\", \"提示\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\",\n        type: \"warning\"\n      })\n        .then(() => {\n          let params = {\n            id:row.Id\n          }\n          this.$http.removeInsteractive(params).then(ret => {\n            if (ret.status === 0) {\n              this.$message({\n                type: \"success\",\n                message: \"删除成功\"\n              });\n              this.getInsteractiveList();\n            } else {\n              this.$message({\n                type: \"warning\",\n                message: \"删除失败\"\n              });\n            }\n          });\n        })\n        .catch(() => {\n          this.$message({\n            type: \"info\",\n            message: \"已取消删除\"\n          });\n        });\n    },\n    //xiugai\n    didClickEdit(row) {\n      this.videoPlayer = VideoPlayer.getVideoPlayer(); //获取播放器\n      if (!this.videoPlayer) {\n        return this.$message({\n          message: \"请确认视频是否正常播放！\"\n        });\n      }\n      this.videoPlayer.pause(); //暂停\n      this.duration = this.videoPlayer.getDuration(); //总时间\n      const { Id, Isdel, Item_ids, Name, Resource_id, Times, Type } = row;\n      const { h, m, s } = secondToDate(Times);\n      this.openTime.h = h.toString(10);\n      this.openTime.m = m.toString(10);\n      this.openTime.s = s.toString(10);\n      (this.ruleForm.hour = h.toString(10)),\n        (this.ruleForm.minute = m.toString(10)),\n        (this.ruleForm.second = s.toString(10)),\n        (this.ruleForm.title = Name),\n        (this.ruleForm.item_ids = Item_ids);\n      this.isCreate = false;\n      this.dialogFormVisible = true;\n    },\n    //添加一条节点\n    async httpCreateInsteractive() {\n      let aTime =\n        parseInt(this.ruleForm.hour) * 60 * 60 +\n        parseInt(this.ruleForm.minute) * 60 +\n        parseInt(this.ruleForm.second);\n      let params = {\n        times: aTime, //时间戳(秒)\n        type: \"1\", //类型 1：题目   2：视频（现没有）\n        item_ids: this.ruleForm.item_ids, //题目id\n        name: this.ruleForm.title, //节点名称\n        resource_id: this.id //视频id\n      };\n      let ret = await this.$http.createInsteractive(params);\n      if (ret.status === 0) {\n        this.$message({\n          message: \"添加节点成功！\",\n          type: \"success\"\n        });\n        this.getInsteractiveList();\n        this.dialogFormVisible = false;\n      } else {\n        this.$message({\n          message: \"添加节点失败！\",\n          type: \"success\"\n        });\n      }\n    },\n    //更新一条节点\n    async httpUpdateInsteractive() {\n      let aTime =\n        parseInt(this.ruleForm.hour) * 60 * 60 +\n        parseInt(this.ruleForm.minute) * 60 +\n        parseInt(this.ruleForm.second);\n      let params = {\n        times: aTime, //时间戳(秒)\n        type: \"1\", //类型 1：题目   2：视频（现没有）\n        item_ids: this.ruleForm.item_ids, //题目id\n        name: this.ruleForm.title, //节点名称\n        resource_id: this.id //视频id\n      };\n      let ret = await this.$http.updateInsteractive(params);\n    },\n    //打标记\n    handleFlag() {\n      this.videoPlayer = VideoPlayer.getVideoPlayer(); //获取播放器\n      if (!this.videoPlayer) {\n        return this.$message({\n          message: \"请确认视频是否正常播放！\"\n        });\n      }\n      this.videoPlayer.pause(); //暂停\n      let timer = this.videoPlayer.getPosition(); //当前时间\n      this.duration = this.videoPlayer.getDuration(); //总时间\n      const { h, m, s } = secondToDate(parseInt(timer));\n      this.ruleForm.hour = h.toString(10);\n      this.ruleForm.minute = m.toString(10);\n      this.ruleForm.second = s.toString(10);\n      this.openTime.h = h.toString(10);\n      this.openTime.m = m.toString(10);\n      this.openTime.s = s.toString(10);\n      this.dialogFormVisible = true;\n    },\n    //获取节点列表\n    async getInsteractiveList() {\n      let params = {\n        resource_id: this.id, //资源id\n        types: 1 //默认1     类型  1：题目   2：视频（暂不使用）\n      };\n      let ret = await this.$http.getInsteractiveList(params);\n      if (ret.status === 0) {\n        this.tableData = ret.result;\n      }\n    },\n    //获取视频地址\n    async initData() {\n      let ret = await this.$http.getOneResource(this.$route.params.id);\n      try {\n        if (ret.status == 0) {\n          let data = ret.result.resource;\n          this.title = data.title;\n          this.video_id = data.video_id;\n          if (this.video_id) {\n            this.palyVideo(this.video_id);\n          } else {\n            this.$message({\n              message: \"无视频播放地址\"\n            });\n          }\n        }\n      } catch (error) {\n        console.log(error);\n      }\n    },\n    palyVideo(video_id) {\n      if (window.GDVideoPlayerLoaded != undefined) {\n        window.GDVideoPlayerLoaded = undefined;\n      }\n      let params = video_id.split(\"-\");\n      if (params.length === 1) {\n        video_id = video_id + \"-3\";\n      }\n      this.video_id = video_id; //视频id\n      var script = document.createElement(\"script\");\n      script.type = \"text/javascript\";\n      script.src = `//s.gaodun.com/web/static-player/loader.js?${\n        this.video_id\n      }`;\n      document.getElementById(\"videoPlay\").appendChild(script);\n    }\n  },\n  async created() {\n    this.id = this.$route.params.id;\n    this.initData();\n    this.getInsteractiveList();\n  }\n};\n</script>\n<style lang=\"less\" scoped>\n.outlineeat {\n  margin-bottom: 20px;\n}\n.video-content {\n  width: 100%;\n  height: 500px;\n  .videoPlay {\n    width: 100%;\n    height: 100%;\n  }\n}\n.flag-btn-box {\n  text-align: right;\n  margin-top: 10px;\n  margin-bottom: 10px;\n  margin-right: 40px;\n}\n</style>\n<style lang=\"less\">\n.video-interactice-wrapper {\n  .el-dialog__wrapper {\n    .el-dialog__footer {\n      padding-top: 60px;\n    }\n  }\n}\n</style>\n\n\n\n\n// WEBPACK FOOTER //\n// src/components/resourceCenter/videoManage/resourceModuleVideoInteractive.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"module-edu-content video-interactice-wrapper\"},[_c('div',{staticClass:\"outlineeat\"},[_vm._v(\"\\n    课中交互：【视频资源ID：\"+_vm._s(_vm.id)+\"】\"+_vm._s(_vm.title)+\"\\n  \")]),_vm._v(\" \"),_c('div',{staticClass:\"video-content clear\"},[_c('div',{ref:\"videoPlay\",staticClass:\"videoPlay\",attrs:{\"id\":\"videoPlay\"}})]),_vm._v(\" \"),_c('el-row',{staticClass:\"flag-btn-box\"},[_c('el-button',{attrs:{\"type\":\"primary\",\"round\":\"\"},on:{\"click\":_vm.handleFlag}},[_vm._v(\"标记为重要节点\")])],1),_vm._v(\" \"),_c('el-row',[_c('el-table',{ref:\"table\",staticStyle:{\"width\":\"100%\"},attrs:{\"border\":\"\",\"data\":_vm.tableData}},[_c('el-table-column',{attrs:{\"label\":\"序号\",\"type\":\"index\",\"width\":\"50\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"重要节点时间点\",\"width\":\"200\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n          \"+_vm._s(_vm._f(\"secondToDate\")(scope.row.Times))+\"\\n        \")]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"Name\",\"align\":\"center\",\"label\":\"重要节点名称\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"Item_ids\",\"align\":\"center\",\"label\":\"课中练习（题目ID）\",\"width\":\"320\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"fixed\":\"right\",\"label\":\"操作\",\"align\":\"center\",\"width\":\"220\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":function($event){_vm.didClickEdit(scope.row)}}},[_vm._v(\"修改\\n          \")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":function($event){_vm.onRemove(scope.row)}}},[_vm._v(\"删除\\n          \")])]}}])})],1)],1),_vm._v(\" \"),_c('el-dialog',{staticClass:\"tabplane\",attrs:{\"title\":\"新增一个重要节点\",\"center\":\"\",\"visible\":_vm.dialogFormVisible},on:{\"update:visible\":function($event){_vm.dialogFormVisible=$event}}},[_c('el-form',{ref:\"ruleForm\",attrs:{\"model\":_vm.ruleForm,\"label-width\":\"140px\"}},[_c('el-form-item',{attrs:{\"label\":\"时间点\",\"required\":\"\"}},[_c('el-col',{attrs:{\"span\":7}},[_c('el-form-item',{attrs:{\"prop\":\"hour\"}},[_c('el-autocomplete',{staticClass:\"coursetxt\",attrs:{\"fetch-suggestions\":_vm.querySearchH},model:{value:(_vm.ruleForm.hour),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"hour\", $$v)},expression:\"ruleForm.hour\"}})],1)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":1}},[_vm._v(\"时\")]),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":7}},[_c('el-form-item',{attrs:{\"prop\":\"minute\"}},[_c('el-autocomplete',{staticClass:\"coursetxt\",attrs:{\"fetch-suggestions\":_vm.querySearchMS},model:{value:(_vm.ruleForm.minute),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"minute\", $$v)},expression:\"ruleForm.minute\"}})],1)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":1}},[_vm._v(\"分\")]),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":7}},[_c('el-form-item',{attrs:{\"prop\":\"second\"}},[_c('el-autocomplete',{staticClass:\"coursetxt\",attrs:{\"fetch-suggestions\":_vm.querySearchMS},model:{value:(_vm.ruleForm.second),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"second\", $$v)},expression:\"ruleForm.second\"}})],1)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":1}},[_vm._v(\"秒\")])],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"节点名称\",\"prop\":\"title\",\"rules\":_vm.filter_rules({required:true,type:'isAllSpace',maxLength:100})}},[_c('el-input',{staticClass:\"coursetxt\",attrs:{\"placeholder\":\"请输入节点名称\"},model:{value:(_vm.ruleForm.title),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"title\", $$v)},expression:\"ruleForm.title\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"课中练习（选填 ）\",\"prop\":\"item_ids\",\"rules\":_vm.filter_rules({type:'isAllSpace'})}},[_c('el-input',{staticClass:\"coursetxt\",attrs:{\"placeholder\":\"请输入题目，多道题目请用英文逗号隔开\"},model:{value:(_vm.ruleForm.item_ids),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"item_ids\", $$v)},expression:\"ruleForm.item_ids\"}})],1)],1),_vm._v(\" \"),_c('div',{attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.resetForm('ruleForm')}}},[_vm._v(\"重 置\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\",\"loading\":_vm.btnLoading},on:{\"click\":function($event){_vm.submitForm('ruleForm')}}},[_vm._v(_vm._s(_vm.btnLoading?'保存中':'确 定')+\"\\n      \")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler?{\"id\":\"data-v-77641b1a\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.1@vue-loader/lib/selector.js?type=template&index=0!./src/components/resourceCenter/videoManage/resourceModuleVideoInteractive.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-77641b1a\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=styles&index=0!./resourceModuleVideoInteractive.vue\")\n  require(\"!!../../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-77641b1a\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=styles&index=1!./resourceModuleVideoInteractive.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./resourceModuleVideoInteractive.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./resourceModuleVideoInteractive.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-77641b1a\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=template&index=0!./resourceModuleVideoInteractive.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-77641b1a\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/resourceCenter/videoManage/resourceModuleVideoInteractive.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}