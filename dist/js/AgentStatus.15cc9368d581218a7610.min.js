/*! liulibiao modified this file at 2017-12-11 14:55:17 */
webpackJsonp([32],{226:function(e,t,r){function s(e){a||r(944)}var a=!1,n=r(53)(r(714),r(859),s,null,null);n.options.__file="/Users/liulibiao/Desktop/gaodun/resource-common /baiyi.gaodun.com/src/js/components/callCenter/AgentStatus.vue",n.esModule&&Object.keys(n.esModule).some(function(e){return"default"!==e&&"__"!==e.substr(0,2)})&&console.error("named exports are not supported in *.vue files."),n.options.functional&&console.error("[vue-loader] AgentStatus.vue: functional components are not supported with templates, they should use render functions."),e.exports=n.exports},612:function(e,t,r){var s,a;s=[t,r(23),r(8)],void 0!==(a=function(e,t,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GetVagueMyCustomClueList=e.GetMyCustomClueList=e.GetPublicUserTree=e.GetSalePublicPoolList=e.KickCluePool=e.Distribute=e.GetRecommendClueList=e.GetSaleNewClueStatistics=e.GetSaleNewClueSearchList=e.GetReservationCommunicatClueStatistics=e.GetReservationCommunicatClueList=e.GetRepeatedClueStatistics=e.GetRepeatedClueList=void 0;var s={Where:{},PageIndex:1,PageSize:10,OrderBy:"",SortCol:""};e.GetRepeatedClueList=function(e){return(0,t.post)("/SalesManagement/GetRepeatedClueList",e)},e.GetRepeatedClueStatistics=function(){return(0,t.post)("/SalesManagement/GetRepeatedClueStatistics",s)},e.GetReservationCommunicatClueList=function(e){return(0,t.post)("/SalesManagement/GetReservationCommunicatClueList",e)},e.GetReservationCommunicatClueStatistics=function(){return(0,t.post)("/SalesManagement/GetReservationCommunicatClueStatistics",{})},e.GetSaleNewClueSearchList=function(e){return(0,t.post)("/SalesManagement/GetSaleNewClueList",e)},e.GetSaleNewClueStatistics=function(){return(0,t.post)("/SalesManagement/GetSaleNewClueStatistics",s)},e.GetRecommendClueList=function(e){return(0,t.post)("/SalesManagement/GetRecommendClueList",e)},e.Distribute=function(e){return(0,t.post)("/ClueDistribute/Distribute",e)},e.KickCluePool=function(e){return(0,t.post)("/ClueDistribute/KickPool",e)},e.GetSalePublicPoolList=function(e){return(0,t.post)("/SalesManagement/GetSalePublicPoolList",e)},e.GetPublicUserTree=function(e){return(0,t.get)("/DataStru/GetDepartmentPublicUserTree",e)},e.GetMyCustomClueList=function(e){return(0,t.post)("/SalesManagement/GetMyCustomClueList",e)},e.GetVagueMyCustomClueList=function(e){return(0,t.post)("/SalesManagement/GetVagueMyCustomClueList",e)}}.apply(t,s))&&(e.exports=a)},613:function(e,t,r){function s(e){a||r(616)}var a=!1,n=r(53)(r(614),r(615),s,"data-v-0436d955",null);n.options.__file="/Users/liulibiao/Desktop/gaodun/resource-common /baiyi.gaodun.com/src/js/containers/Tree.vue",n.esModule&&Object.keys(n.esModule).some(function(e){return"default"!==e&&"__"!==e.substr(0,2)})&&console.error("named exports are not supported in *.vue files."),n.options.functional&&console.error("[vue-loader] Tree.vue: functional components are not supported with templates, they should use render functions."),e.exports=n.exports},614:function(e,t,r){var s,a;s=[e,t,r(43),r(42),r(5),r(87),r(612),r(131),r(21)],void 0!==(a=function(e,t,r,s,a,n,l,i,o){"use strict";function u(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var c=u(r),d=u(s);u(a);t.default={props:{width:String,currentValue:String,treeType:String,callback:Function,reset:Function,placeholder:String,allSelected:Function,index:Number},data:function(){return{showTree:!1,currentValue:this.value,userInfo:"",treeUserName:"",treeUserId:[],isRemove:!1,hasChange:!1,getUserData:[],defaultProps:{label:"Name",children:"ChildrenList"}}},watch:{currentValue:function(e){this.$refs.tree.filter(e)}},methods:{handleInput:function(e){var t=e.target.value;this.$emit("input",t),this.$emit("change",t),this.currentValue=t},onGetUserTree:function(){var e=this;return(0,d.default)(c.default.mark(function t(){var r;return c.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,n.GetAllowedUserTree)({userId:e.userInfo.UserId});case 2:r=t.sent,0===r.status&&(e.getUserData=r.result);case 4:case"end":return t.stop()}},t,e)}))()},onGetchannelsTree:function(){var e=this;return(0,d.default)(c.default.mark(function t(){var r;return c.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,n.getchannels)();case 2:r=t.sent,0===r.status&&(e.getUserData=r.result);case 4:case"end":return t.stop()}},t,e)}))()},onGetCustomerSourceTree:function(){var e=this;return(0,d.default)(c.default.mark(function t(){var r;return c.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,n.GetCustomerSourceTree)();case 2:r=t.sent,0===r.status&&(e.getUserData=r.result);case 4:case"end":return t.stop()}},t,e)}))()},onGetPublicUserTree:function(){var e=this;return(0,d.default)(c.default.mark(function t(){var r;return c.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,l.GetPublicUserTree)();case 2:r=t.sent,0===r.status&&(e.getUserData=r.result);case 4:case"end":return t.stop()}},t,e)}))()},onGetSourceDetailsTree:function(){var e=this;return(0,d.default)(c.default.mark(function t(){var r;return c.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,n.GetSourceDetailsTree)();case 2:r=t.sent,0===r.status&&(e.getUserData=r.result);case 4:case"end":return t.stop()}},t,e)}))()},onGetArea:function(){var e=this;return(0,d.default)(c.default.mark(function t(){var r;return c.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,n.GetArea)();case 2:r=t.sent,0===r.status&&(e.getUserData=r.result);case 4:case"end":return t.stop()}},t,e)}))()},onGetLabel:function(){var e=this;return(0,d.default)(c.default.mark(function t(){var r;return c.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,n.GetLabelList)();case 2:r=t.sent,0===r.status&&(e.getUserData=r.result);case 4:case"end":return t.stop()}},t,e)}))()},onTriggerTree:function(e){e.cancelBubble=!0,this.showTree=!1;for(var t=document.body.querySelectorAll(".tree-box"),r=0;r<t.length;r++)t[r].style.display="none";switch(this.$el.querySelector(".tree-box").style.display="block",this.treeType){case"source":0==this.getUserData.length&&this.onGetchannelsTree();break;case"channels":0==this.getUserData.length&&this.onGetCustomerSourceTree();break;case"public":0==this.getUserData.length&&this.onGetPublicUserTree();break;case"marketing":0==this.getUserData.length&&this.onGetSourceDetailsTree();break;case"getArea":0==this.getUserData.length&&this.onGetArea();break;case"label":0==this.getUserData.length&&this.onGetLabel();break;default:0==this.getUserData.length&&this.onGetUserTree()}},checkChangeTree:function(){var e=this.$refs.tree.getCheckedNodes();this.treeUserId=(0,i.checkedUserTree)(e).userId,this.treeUserName=(0,i.checkedUserTree)(e).userName,this.callback(this.treeUserId,this.index),this.hasChange=!0},filterNode:function(e,t){return!e||-1!==t.Name.indexOf(e)},onSelectNode:function(e){this.defaultKeys=e.Id},resetChecked:function(e){var t=this;e.stopPropagation(),this.callback(null),this.$el.querySelector(".tree-box").style.display="none",setTimeout(function(){t.showTree=!0},10),setTimeout(function(){t.showTree=!1},20),this.treeUserName="",this.treeUserId=[],this.currentValue="","function"==typeof this.allSelected&&this.allSelected()}},updated:function(){this.treeUserName.length?this.isRemove=!0:this.isRemove=!1},created:function(){this.userInfo=JSON.parse(localStorage.getItem(o.CRM_USER_INFO));this.curre},mounted:function(){this.$nextTick(function(){this.$on("resetTree",function(){var e=this;this.callback(null),setTimeout(function(){e.showTree=!0},10),setTimeout(function(){e.showTree=!1},20),this.treeUserName="",this.treeUserId=[],this.currentValue=""}),this.$on("setTree",function(){})}),document.body.onclick=function(){for(var e=document.body.querySelectorAll(".tree-box"),t=0;t<e.length;t++)e[t].style.display="none";this.hasChange&&("function"==typeof this.allSelected&&this.allSelected(),this.hasChange=!1)}.bind(this)}},e.exports=t.default}.apply(t,s))&&(e.exports=a)},615:function(e,t,r){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"clues-search-tree"},[r("div",{staticClass:"tree-wrapper",on:{click:function(t){t.stopPropagation(),e.onTriggerTree(t)}}},[r("div",{staticStyle:{position:"relative"}},[r("i",{directives:[{name:"show",rawName:"v-show",value:e.isRemove,expression:"isRemove"}],staticClass:"tree-circle-close el-icon-circle-close",on:{click:function(t){t.stopPropagation(),e.resetChecked(t)}}}),e._v(" "),r("el-input",{staticClass:"tree-input-disabled",style:{width:e.width},attrs:{placeholder:e.placeholder?e.placeholder:"请选择",disabled:!0,title:e.treeUserName,size:"small"},model:{value:e.treeUserName,callback:function(t){e.treeUserName=t},expression:"treeUserName"}})],1),e._v(" "),e.showTree?e._e():r("div",{staticClass:"tree-box",style:{minWidth:e.width}},[r("div",{staticStyle:{width:"100%",position:"relative"}},[r("el-tree",{ref:"tree",staticClass:"filter-tree",attrs:{data:e.getUserData,"empty-text":"加载中...",props:e.defaultProps,"node-key":"Id","show-checkbox":"",accordion:"","filter-node-method":e.filterNode,"highlight-current":!0},on:{"check-change":e.checkChangeTree,getCheckedNodes:e.onSelectNode}}),e._v(" "),r("input",{staticClass:"search-text",attrs:{size:"small",placeholder:"输入关键字进行过滤"},domProps:{value:e.currentValue},on:{input:e.handleInput}})],1)])])])},staticRenderFns:[]},e.exports.render._withStripped=!0},616:function(e,t){},714:function(e,t,r){var s,a;s=[e,t,r(5),r(41),r(131),r(21),r(88),r(87),r(132),r(613)],void 0!==(a=function(e,t,r,s,a,n,l,i,o,u){"use strict";function c(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var d,h=(c(r),c(o),c(u));t.default=(d={name:"module-ext-agent",props:["self","item"],components:{Tree:h.default},data:function(){var e;return e={treeStatus:"",isSelect:!1,isSearch:!1,isCollapse:!0,loading:!1,isShowUser:!1,filterText:"",defaultKeys:"1",defaultProps:{children:"ChildrenList",label:"Name"},getUserTree:[],creatortFilter:"",creatorName:""},e.defaultKeys="",e.UserIds=[],e.defaultProps={label:"Name",children:"ChildrenList"},e.loading=!1,e.extStatusData=[],e.ruleForm={timeType:"0",users:[],extStatus:"",searchNo:"",callDate:[]},e},created:function(){this.userInfo=JSON.parse(localStorage.getItem(n.CRM_USER_INFO))},watch:{creatortFilter:function(e){this.$refs.creatortTree.filter(e)}},methods:{userAllSelected:function(){},recordTree:function(e){this.UserIds=e},btnSearch:function(){var e=(0,a.format)(new Date),t=e;this.ruleForm.callDate&&2==this.ruleForm.callDate.length&&(e=(0,a.format)(this.ruleForm.callDate[0]),t=(0,a.format)(this.ruleForm.callDate[1]));var r={UserIds:this.UserIds,ExtNo:this.ruleForm.searchNo,Status:this.ruleForm.extStatus,timeType:this.ruleForm.timeType,begin:e,end:t};this.queryExtStatus(r)},queryExtStatus:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{UserIds:[this.userInfo.UserId],ExtNo:"",Status:"0",timeType:1};this.loading=!0,(0,l.getExtStatus)(t).then(function(t){0==t.status?(e.extStatusData=t.result,e.loading=!1):e.loading=!1}).catch(function(){e.loading=!1})}}},d.watch={},d.mounted=function(){var e=this;this.queryExtStatus(),(0,i.GetAllowedUserTree)().then(function(t){0===t.status&&(e.getUserTree=t.result)})},d),e.exports=t.default}.apply(t,s))&&(e.exports=a)},859:function(e,t,r){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"module-clues-content",staticStyle:{"min-height":"400px"}},[r("el-form",{ref:"ruleForm",attrs:{model:e.ruleForm}},[r("el-row",{attrs:{gutter:5}},[r("el-col",{attrs:{span:24}},[r("div",{staticClass:"clues-bnt-item",staticStyle:{"padding-bottom":"10px"}},[r("div",{staticClass:"order-type-search",staticStyle:{"margin-right":"10px"}},[r("el-date-picker",{staticStyle:{width:"180px"},attrs:{clearable:"",size:"small",format:"",type:"daterange",placeholder:"选择时间范围"},model:{value:e.ruleForm.callDate,callback:function(t){e.ruleForm.callDate=t},expression:"ruleForm.callDate"}})],1),e._v(" "),r("div",{staticClass:"order-type-search tree-input-disabled",staticStyle:{"margin-right":"10px"}},[r("Tree",{ref:"callrecordTree",attrs:{width:"193px",allSelected:e.userAllSelected,callback:e.recordTree}})],1),e._v(" "),r("div",{staticClass:"order-type-search",staticStyle:{"margin-right":"10px"}},[r("el-select",{staticStyle:{width:"120px"},attrs:{clearable:"",size:"small",placeholder:"选择状态"},model:{value:e.ruleForm.extStatus,callback:function(t){e.ruleForm.extStatus=t},expression:"ruleForm.extStatus"}},[r("el-option",{attrs:{label:"未签入",value:"1"}}),e._v(" "),r("el-option",{attrs:{label:"空闲",value:"2"}}),e._v(" "),r("el-option",{attrs:{label:"忙碌",value:"3"}}),e._v(" "),r("el-option",{attrs:{label:"通话中",value:"4"}})],1)],1),e._v(" "),r("div",{staticClass:"order-type-search",staticStyle:{"margin-right":"10px"}},[r("el-input",{staticStyle:{width:"180px"},attrs:{placeholder:"输入分机号",size:"small"},model:{value:e.ruleForm.searchNo,callback:function(t){e.ruleForm.searchNo=t},expression:"ruleForm.searchNo"}})],1),e._v(" "),r("div",{staticClass:"order-type-search"},[r("el-button",{staticStyle:{width:"70px",position:"relative",top:"-1px"},attrs:{type:"primary",size:"small"},on:{click:e.btnSearch}},[e._v("查询")])],1)])])],1),e._v(" "),r("div",[r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"multipleTable",staticStyle:{width:"100%"},attrs:{border:"",data:e.extStatusData,"tooltip-effect":"dark"}},[r("el-table-column",{attrs:{label:"座席",prop:"UserName"}}),e._v(" "),r("el-table-column",{attrs:{label:"工号",prop:"UserNo"}}),e._v(" "),r("el-table-column",{attrs:{label:"分机号",prop:"ExtNo"}}),e._v(" "),r("el-table-column",{attrs:{label:"当前状态",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("div",{staticStyle:{"text-align":"left","margin-left":"30%"}},[r("span",{class:{"ext-item-status-unsign":1==t.row.StatusId,"ext-item-status-idle":2==t.row.StatusId,"ext-item-status-busy":3==t.row.StatusId,"ext-item-status-talking":4==t.row.StatusId}},[r("span",{staticStyle:{"margin-left":"18px"}},[e._v(e._s(t.row.Status))])])])]}}])}),e._v(" "),r("el-table-column",{attrs:{label:"通话时长",prop:"CallDuration"}}),e._v(" "),r("el-table-column",{attrs:{label:"通话次数",prop:"CallCount"}}),e._v(" "),r("el-table-column",{attrs:{label:"置忙时长",prop:"BusyDuration"}})],1)],1)],1)],1)},staticRenderFns:[]},e.exports.render._withStripped=!0},944:function(e,t){}});