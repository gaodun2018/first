/*! liulibiao modified this file at 2017-12-11 14:55:17 */
webpackJsonp([42],{259:function(e,t,s){function a(e){n||s(975)}var n=!1,i=s(53)(s(783),s(894),a,null,null);i.options.__file="/Users/liulibiao/Desktop/gaodun/resource-common /baiyi.gaodun.com/src/js/containers/MessageManage.vue",i.esModule&&Object.keys(i.esModule).some(function(e){return"default"!==e&&"__"!==e.substr(0,2)})&&console.error("named exports are not supported in *.vue files."),i.options.functional&&console.error("[vue-loader] MessageManage.vue: functional components are not supported with templates, they should use render functions."),e.exports=i.exports},783:function(e,t,s){var a,n;a=[e,t,s(41),s(214)],void 0!==(n=function(e,t,s,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={data:function(){return{MsgStatus:0,MessageTotal:0,MsgContent:"",MessageList:[],MessageIdList:[],currentPage:1,pageSize:10}},methods:{handleCurrentChange:function(e){this.currentPage=e,this.onSeach()},handleSizeChange:function(e){this.pageSize=e,this.onSeach()},handleSelectionChange:function(e){var t=this;this.MessageIdList=[],e.map(function(e,s){t.MessageIdList.push(e.ID)}),this.$store.dispatch("getDistributionGuid",this.MessageIdList),this.multipleSelection=e},onBatchSetup:function(){var e=this;(0,a.ReadMessage)(this.MessageIdList).then(function(t){0===t.status&&(e.$message({message:"已将选中消息状态设置成已读",type:"success"}),e.onSeach())})},tableRowClassName:function(e,t){return 1===e.MsgStatus?"cell-back":0===e.MsgStatus?"cell-red":""},StatusSeach:function(){var e=this,t={Where:{MsgStatus:this.MsgStatus,MsgContent:this.MsgContent},PageIndex:this.currentPage,PageSize:this.pageSize,OrderBy:"CreateTime",SortCol:1};(0,a.GetMessageList)(t).then(function(t){0===t.status&&(e.MessageList=t.result.Body,e.MessageTotal=t.result.Count)})},onSeach:function(){var e=this,t={Where:{MsgStatus:this.MsgStatus,MsgContent:this.MsgContent},PageIndex:this.currentPage,PageSize:this.pageSize,OrderBy:"CreateTime",SortCol:1};(0,a.GetMessageList)(t).then(function(t){0===t.status&&(e.MessageList=t.result.Body,e.MessageTotal=t.result.Count,e.$store.dispatch("GetUnreadMessageCount"))})}},computed:{},created:function(){this.StatusSeach(this.MsgStatus)}},e.exports=t.default}.apply(t,a))&&(e.exports=n)},894:function(e,t,s){e.exports={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"module-clues-content order-manage"},[s("el-form",{ref:"form",attrs:{model:e.form}},[s("div",{staticClass:"roder-content-label"},[s("div",{staticStyle:{height:"35px"}},[s("div",{staticClass:"FL"},[s("el-row",[s("div",{staticStyle:{display:"inline-block","margin-right":"5px"}},[s("el-form-item",[s("el-radio-group",{on:{change:e.StatusSeach},model:{value:e.MsgStatus,callback:function(t){e.MsgStatus=t},expression:"MsgStatus"}},[s("el-radio",{key:0,attrs:{label:0}},[e._v("未读")]),e._v(" "),s("el-radio",{key:1,attrs:{label:1}},[e._v("已读")]),e._v(" "),s("el-radio",{key:9,attrs:{label:9}},[e._v("全部")])],1)],1)],1),e._v(" "),s("div",{staticStyle:{display:"inline-block","margin-right":"5px"}},[s("el-button",{staticStyle:{width:"75px"},attrs:{size:"small",disabled:!e.MessageIdList.length},on:{click:e.onBatchSetup}},[e._v("批量已读")])],1)])],1),e._v(" "),s("div",{staticClass:"FR"},[s("el-row",[s("div",{staticClass:"clues-search"},[s("el-input",{staticStyle:{width:"328px",position:"relative","z-index":"100"},attrs:{placeholder:"根据消息内容关键字模糊匹配",size:"small"},model:{value:e.MsgContent,callback:function(t){e.MsgContent=t},expression:"MsgContent"}},[s("el-button",{attrs:{icon:"search"},on:{click:e.onSeach},slot:"append"})],1)],1)])],1)])]),e._v(" "),s("div",{staticClass:"clues-table"},[s("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"multipleTable",staticStyle:{width:"100%"},attrs:{border:"","row-class-name":e.tableRowClassName,data:e.MessageList},on:{"selection-change":e.handleSelectionChange}},[s("el-table-column",{attrs:{type:"selection",align:"right"}}),e._v(" "),s("el-table-column",{staticStyle:{},attrs:{prop:"MsgStatus_Str",label:"状态","min-width":"80"}}),e._v(" "),s("el-table-column",{staticStyle:{},attrs:{prop:"MsgContent",label:"消息内容","min-width":"300"}}),e._v(" "),s("el-table-column",{staticStyle:{},attrs:{prop:"CreateTime",label:"接收时间","min-width":"130"}}),e._v(" "),s("el-table-column",{staticStyle:{},attrs:{prop:"MessageType_Str",label:"消息类型","min-width":"150"}})],1),e._v(" "),s("div",{staticClass:"clues-pagination"},[s("el-pagination",{attrs:{"page-sizes":[10,20,50,100,200,300,400],"page-size":e.pageSize,"current-page":e.currentPage,layout:"total, sizes, prev, pager, next, jumper",total:e.MessageTotal,"page-count":10/e.pageSize},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)])],1)},staticRenderFns:[]},e.exports.render._withStripped=!0},975:function(e,t){}});