/*! Gaodun modified this file at 2018-3-20 14:51:54 */
webpackJsonp([17],{250:function(t,a,s){var e=s(38)(s(610),s(660),null,null,null);e.options.__file="C:\\www\\resource-common\\zeus-console.gaodun.com\\src\\js\\containers\\EducationalClass.vue",e.esModule&&Object.keys(e.esModule).some(function(t){return"default"!==t&&"__"!==t.substr(0,2)})&&console.error("named exports are not supported in *.vue files."),e.options.functional&&console.error("[vue-loader] EducationalClass.vue: functional components are not supported with templates, they should use render functions."),t.exports=e.exports},565:function(t,a,s){var e,l;e=[a,s(130),s(39),s(49),s(226)],void 0!==(l=function(t,a,s,e,l){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(t,"__esModule",{value:!0}),t.PelList=t.TopoProgress=t.CheckAllPlan=t.PlanProgress=t.PlaneList=t.getClassList=t.deletePlanPhase=t.getCourseOutline=t.deleteClassPlan=t.getClassPlanDetail=void 0;var r=n(a),i=n(l),o=r.default.create({baseURL:"//t-plan-api.gaodun.com",headers:{"Content-Type":"application/json"},withCredentials:!0,transformRequest:function(t,a){return i.default.stringify(t)}}),c=o.get;o.post,o.put,t.getClassPlanDetail=function(t,a){return c("/plan/phase/class/"+t,a)},t.deleteClassPlan=function(t,a){return o.delete("plan/"+t,a)},t.getCourseOutline=function(t,a){return c("plan/phase/course/"+t,a)},t.deletePlanPhase=function(t,a){return o.delete("/plan/phase/"+t,a)},t.getClassList=function(t,a){return c("/class/"+t+"/students",a)},t.PlaneList=function(t,a){return c(t,a)},t.PlanProgress=function(t,a){return c("/plan/class/"+t+"/progress",a)},t.CheckAllPlan=function(t,a,s){return c("/plan/whole/all/class/"+t+"/course/"+a,s)},t.TopoProgress=function(t,a){return c("/plan/class/"+t+"/top/progress",a)},t.PelList=function(t,a){return c(t,a)}}.apply(a,e))&&(t.exports=l)},610:function(t,a,s){var e,l;e=[t,a,s(129),s(128),s(1),s(62),s(39),s(565),s(616),s(134),s(135)],void 0!==(l=function(t,a,s,e,l,n,r,i,o){"use strict";function c(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(a,"__esModule",{value:!0});var d=c(s),_=c(e),u=c(l);c(n);a.default={components:{},data:function(){var t;return t={Loading:!1,DoExLoading:!1,activeName:"",resource_json:[],option:{tooltip:{trigger:"item",formatter:"<p style='font-size:16px;'>{b}: <span style='color: #00AEFF;'>{c}</span></p>占总人数的  {d}%",position:"right",padding:[10,10,10,10]},series:[{name:"达标人数",type:"pie",radius:["60%","80%"],avoidLabelOverlap:!1,label:{normal:{show:!1,position:"center"}},labelLine:{normal:{show:!1}},data:[]}]},myChart:"",tabContent:"",tableData:[],resultData:[],ProgressCm:"",proclass:"",planlist:[],planval:"",student_sum:"0",tabid:"",planshow:1},t.Loading=!0,t.ELoading=!0,t.TabLoading=!0,t.tabnum=0,t.tabname="",t.baseurl=(0,r.getEnv)(),t.clid="",t.cid="",t},computed:{},created:function(){console.log(this.$route),this.clid=this.$route.params.sid,this.cid=this.$route.params.cid,this.getProgressStatics()},mounted:function(){this.myChart=u.default.init(document.getElementById("resource_echart")),this.myChart.setOption(this.option),this.getPlanProgress()},methods:{handleClick:function(t,a){console.log(t.name,t.index),this.tabid=t.index,this.tabnum=t.name,this.resource_json.length>0?this.resource_json[Number(t.index)]&&this.resource_json[Number(t.index)].plan_item.length>0?(console.log("有标杆计划，有当前阶段"),this.planlist=this.resource_json[Number(t.index)].plan_item[0],this.CountLoad(),this.planshow=1):(console.log("有标杆计划，无当前阶段"),this.planshow=2):(this.planshow=3,console.log("有标杆计划，无阶段计划和无标杆计划"));for(var s=0;s<this.resultData.length;s++){if(this.resultData[s].plan_id==t.name)return void(this.tableData=this.resultData[s].top);this.tableData=[]}},CountLoad:function(){var t=this,a=void 0,s=void 0;this.planlist.progress.total_students>0?(a=(100*Number(this.planlist.progress.up_standard_students/this.planlist.progress.total_students)).toFixed(0),s=(100*Number(this.planlist.progress.not_up_standard_students/this.planlist.progress.total_students)).toFixed(0)):(a=0,s=0),this.planval={total_students:this.planlist.progress.total_students,up_standard_students:this.planlist.progress.up_standard_students,not_up_standard_students:this.planlist.progress.not_up_standard_students,recommend_progress:this.planlist.progress.recommend_progress,up_standard_students_range:a,not_up_standard_students_range:s};var e={series:[{data:[{value:this.planlist.progress.up_standard_students,name:"达标人数",itemStyle:{normal:{color:"#00aeff"}}},{value:this.planlist.progress.not_up_standard_students,name:"未达标人数",itemStyle:{normal:{color:"#ffdd61"}}}]}]};setTimeout(function(){t.myChart=u.default.init(document.getElementById("resource_echart")),t.myChart.setOption(t.option),t.myChart.setOption(e)},100)},remindPlan:function(t,a){console.log(t,a)},callbackPlan:function(t,a){console.log(t,a)},detailsPlan:function(t,a){console.log(t,a)},getPlanProgress:function(t){var a=this;return(0,_.default)(d.default.mark(function s(){var e,l,n,r,o,c;return d.default.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,(0,i.PlanProgress)(a.clid);case 2:e=s.sent,console.log(e,"plan-api.gaodun.com/plan/class/${this.clid}/progress"),0==e.data.status&&(a.proclass=e.data.result.class,a.student_sum=e.data.result.student_sum,a.resource_json=e.data.result.plan,l=void 0,n=void 0,r=void 0,o=void 0,c=void 0,e.data.result.plan.length>0&&(a.tabnum=e.data.result.plan[0].plan_id,a.activeName=e.data.result.plan[0].plan_id),t?(console.log("有标杆计划，有当前阶段"),a.planlist=e.data.result.plan[t].plan_item[0],a.CountLoad(),a.planshow=1):a.resource_json.length>0?e.data.result.tag[0]&&e.data.result.plan[0].plan_item.length>0?(a.tabname=e.data.result.plan[0].plan_id,console.log("有标杆计划，有当前阶段"),a.planlist=e.data.result.plan[0].plan_item[0],a.CountLoad(),a.planshow=1):(console.log("有标杆计划，无当前阶段"),a.planshow=2):(a.planshow=3,console.log("有标杆计划，无阶段计划和无标杆计划")),a.Loading=!1,a.getTopoProgress(t));case 5:case"end":return s.stop()}},s,a)}))()},getProgressStatics:function(){var t=this;return(0,_.default)(d.default.mark(function a(){var s;return d.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,o.ProgressStatics)(t.cid,t.clid);case 2:s=a.sent,0==s.data.status&&(t.ProgressCm={average_progress:s.data.result.average_progress,knowledge_masteryrate:s.data.result.knowledge_masteryrate,average_exercise_count:s.data.result.average_exercise_count,average_exercise_accuracy:s.data.result.average_exercise_accuracy},t.ELoading=!1);case 4:case"end":return a.stop()}},a,t)}))()},getTopoProgress:function(t){var a=this;return(0,_.default)(d.default.mark(function s(){var e,l;return d.default.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,(0,i.TopoProgress)(a.clid);case 2:if(e=s.sent,a.resultData=e.data.result,0==e.data.status){if(t)a.tableData=a.resultData[Number(t)]?a.resultData[Number(t)].top:[];else if(e.data.result.length>0)for(l=1;l<e.data.result.length;l++)a.resultData[l].plan_id==a.tabname?a.tableData=a.resultData[l]?a.resultData[l].top:[]:a.tableData=[];else a.tableData=[];a.TabLoading=!1}case 5:case"end":return s.stop()}},s,a)}))()}}},t.exports=a.default}.apply(a,e))&&(t.exports=l)},616:function(t,a,s){var e,l;e=[a,s(130),s(39),s(49),s(226)],void 0!==(l=function(t,a,s,e,l){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(t,"__esModule",{value:!0}),t.ProgressStatics=void 0;var r=n(a),i=n(l),o=r.default.create({baseURL:"//t-plan-api.gaodun.com",headers:{"Content-Type":"application/json"},withCredentials:!0,transformRequest:function(t,a){return i.default.stringify(t)}}),c=o.get;o.post,o.put,t.ProgressStatics=function(t,a,s){return c("/gcloud/course/"+t+"/class/"+a+"/progress/statics",s)}}.apply(a,e))&&(t.exports=l)},660:function(t,a,s){t.exports={render:function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{directives:[{name:"title",rawName:"v-title"}],staticClass:"coudata",attrs:{"data-title":"EP课程学习数据统计"}},[s("div",{staticClass:"coudata-header headbar"},[s("div",{staticClass:"w_1140 p_t_36 clear "},[s("div",{staticClass:"cou-head_l head_l"},[s("p",{staticClass:"coudata_time white_12"},[s("span",[t._v(t._s(t.proclass.course_name))])]),t._v(" "),s("p",{staticClass:"coudata_tit white_24"},[t._v(t._s(t.proclass.class_name))])]),t._v(" "),s("div",{staticClass:"cou-head_r head_r clear white_12"},[s("p",{staticClass:"h_r_bar"},[s("span",{staticClass:"h_r_bar_t"},[t._v("学员总数")]),t._v(" "),s("span",[s("strong",{staticClass:"white_24"},[t._v(t._s(t.student_sum))]),t._v(" 人")])]),t._v(" "),s("router-link",{staticClass:"cou_stu_detail_btn green_16",attrs:{to:"/customizedPlan/"+t.cid+"/"+t.clid,tag:"a",target:"_blank"}},[t._v("制定学习计划")])],1)])]),t._v(" "),s("div",{staticClass:"cards_box educabox"},[s("div",{staticClass:"w_1140 p_t_36 clear"},[s("el-col",{staticClass:"stu_cou_res_card edbox",attrs:{span:24}},[s("el-card",{directives:[{name:"loading",rawName:"v-loading",value:t.Loading,expression:"Loading"}],staticClass:"plane-card",attrs:{"body-style":{padding:"0px 20px"},"element-loading-text":"拼命加载中..."}},[s("el-tabs",{attrs:{type:"card"},on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(a){t.activeName=a},expression:"activeName"}},[t._l(t.resource_json,function(a,e){return s("el-tab-pane",{key:e,attrs:{name:a.plan_id}},[s("span",{attrs:{slot:"label"},slot:"label"},[t._v(t._s(a.plan_name))])])}),t._v(" "),1==t.planshow?s("div",[s("div",{staticClass:"planebox"},[s("el-col",{staticClass:"stu_cou_res_card edplane",attrs:{span:13}},[s("el-card",{attrs:{"body-style":{padding:"0px 20px"}}},[s("div",{staticClass:"edht"},[t._v("当前阶段")]),t._v(" "),s("p",{staticClass:"edp1"},[t._v(t._s(t.planlist.start_time)+" - "+t._s(t.planlist.end_time))]),t._v(" "),""!=t.planlist.target?s("p",{staticClass:"edp2"},[t._v("阶段学习目标："+t._s(t.planlist.target))]):t._e(),t._v(" "),s("p",{staticClass:"edp2"},[t._v("需完成：\n                      "),t._l(t.planlist.phase,function(a,e){return t._l(a.item,function(e,l){return s("span",[t._v(t._s(a.type)+" - "+t._s(e.name)+"，")])})})],2),t._v(" "),s("div",{staticClass:"edplbotm"},[s("i"),t._v(" "),s("p",{staticClass:"edp2"},[t._v("建议完成度"),s("em",[t._v(t._s(t.planval.recommend_progress)+"%")])]),t._v(" "),s("router-link",{staticClass:"edubtn detail_btn",attrs:{to:"/EducationalPlanAll/"+t.cid+"/"+t.clid+"/"+t.tabnum,target:"_blank",tag:"a"}},[t._v("查看完整计划")])],1)])],1),t._v(" "),s("el-col",{staticClass:"stu_cou_res_card edplane",attrs:{span:11}},[s("el-card",{attrs:{"body-style":{padding:"0px 20px"}}},[s("div",{staticClass:"card_con_l"},[s("div",{staticClass:"myechart"},[s("div",{staticStyle:{width:"200px",height:"200px","z-index":"999"},attrs:{id:"resource_echart"}}),t._v(" "),s("div",{staticClass:"echart_txt"},[s("p",{staticClass:"black_16 f_w_700"},[t._v("总人数")]),t._v(" "),s("p",{staticClass:"black_36 f_w_700"},[t._v(t._s(t.planval.total_students))])])])]),t._v(" "),s("div",{staticClass:"card_con_r"},[s("ul",[s("li",{staticClass:"type_item"},[s("i",{staticClass:"col_icon",staticStyle:{background:"#00aeff"}}),t._v(" "),s("p",{staticClass:"black_14"},[t._v("达标人数 "),s("span",{staticClass:"black_24"},[t._v(t._s(t.planval.up_standard_students))])]),t._v(" "),s("p",{staticClass:"gray_14"},[t._v("占总人数的 "),s("span",[t._v(t._s(t.planval.up_standard_students_range)+"%")])])]),t._v(" "),s("li",{staticClass:"type_item"},[s("i",{staticClass:"col_icon",staticStyle:{background:"#ffdd61"}}),t._v(" "),s("p",{staticClass:"black_14"},[t._v("未达标人数 "),s("span",{staticClass:"black_24"},[t._v(t._s(t.planval.not_up_standard_students))])]),t._v(" "),s("p",{staticClass:"gray_14"},[t._v("占总人数的 "),s("span",[t._v(t._s(t.planval.not_up_standard_students_range)+"%")])])])])])])],1)],1),t._v(" "),s("div",{staticClass:"planetit"},[s("div",{staticClass:"edht"},[t._v("计划进度未达标TOP10")]),t._v(" "),s("router-link",{staticClass:"ckallstudent detail_btn",attrs:{to:"/EducationalClasslist/"+t.cid+"/"+t.clid,target:"_blank",tag:"a"}},[t._v("查看全部学员详情")])],1),t._v(" "),s("div",{staticClass:"planetab"},[s("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.TabLoading,expression:"TabLoading"}],staticStyle:{width:"100%"},attrs:{data:t.tableData,"element-loading-text":"拼命加载中..."}},[s("el-table-column",{attrs:{label:"排序",width:"80"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v("\n                      "+t._s(a.$index+1>9?a.$index+1:"0"+[a.$index+1])+"\n                    ")]}}])}),t._v(" "),s("el-table-column",{attrs:{prop:"nick_name",label:"学员姓名",width:"120"}}),t._v(" "),s("el-table-column",{attrs:{prop:"phone",label:"手机号",width:"160"}}),t._v(" "),s("el-table-column",{attrs:{label:"阶段完成进度",width:"150"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v("\n                      "+t._s(a.row.progress)+"%\n                    ")]}}])}),t._v(" "),s("el-table-column",{attrs:{label:"课程总进度",width:"150"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v("\n                      "+t._s(a.row.total_progress)+"%\n                    ")]}}])}),t._v(" "),s("el-table-column",{attrs:{label:"学习情况",width:"180"},scopedSlots:t._u([{key:"default",fn:function(a){return[s("span",[t._v("\n                        "+t._s(a.row.no_study_days)+"天未学习\n\n                        "),a.row.no_study_days>5?s("el-tooltip",{attrs:{placement:"top"}},[s("div",{attrs:{slot:"content"},slot:"content"},[t._v("超过5天未登录学习的高危学员")]),t._v(" "),s("i",{staticClass:"warning_icon"})]):t._e()],1)]}}])}),t._v(" "),s("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(a){return[s("router-link",{staticClass:"editbtn",attrs:{to:"/studentCourse/"+t.cid+"/"+a.row.group+"/"+a.row.student_id,target:"_blank",tag:"a"}},[t._v("查看详情")])]}}])})],1)],1)]):t._e(),t._v(" "),2==t.planshow?s("div",[s("div",{staticClass:"planempty"},[s("p",{staticClass:"plane1 black_16"},[t._v("当前无计划安排"),s("br"),t._v("请您合理安排学员的计划哦！")]),t._v(" "),s("div",{staticClass:"planebtn"},[s("router-link",{staticClass:"planbill detail_btn",attrs:{to:"/EducationalPlanAll/"+t.cid+"/"+t.clid+"/"+t.tabnum,target:"_blank",tag:"a"}},[t._v("查看完整计划")]),t._v(" "),s("router-link",{staticClass:"planbill detail_btn",attrs:{to:"/EducationalClasslist/"+t.cid+"/"+t.clid,target:"_blank",tag:"a"}},[t._v("查看全部学员详情")])],1)])]):t._e(),t._v(" "),3==t.planshow?s("div",[s("div",{staticClass:"planempty"},[s("p",{staticClass:"plane1 black_16"},[t._v("暂未制定标杆学习计划！")]),t._v(" "),s("div",{staticClass:"planebtn"},[s("router-link",{staticClass:"planbill detail_btn",attrs:{to:"/customizedPlan/"+t.cid+"/"+t.clid,target:"_blank",tag:"a"}},[t._v("去制定计划")])],1)])]):t._e()],2)],1)],1)],1)]),t._v(" "),s("div",{staticClass:"coudata_educat"},[s("div",{staticClass:"w_1140"},[s("el-row",{staticClass:"cardgroup_1",attrs:{type:"flex",justify:"space-between"}},[s("el-col",{staticClass:"cards_educat",attrs:{span:12}},[s("el-card",{directives:[{name:"loading",rawName:"v-loading",value:t.ELoading,expression:"ELoading"}],attrs:{"body-style":{padding:"20px 0px 0px 0px"},"element-loading-text":"拼命加载中..."}},[s("div",{staticClass:"card_title",attrs:{slot:"header"},slot:"header"},[s("span",{staticClass:"black_14",staticStyle:{position:"relative"}},[t._v("完课情况")])]),t._v(" "),s("div",{staticClass:"card_contont clear"},[s("div",{staticClass:"cards_3_l"},[s("p",{staticClass:"gray_14"},[s("span",{staticStyle:{position:"relative"}},[t._v("\n                    本班平均完成率\n                    "),s("el-tooltip",{attrs:{placement:"top"}},[s("div",{attrs:{slot:"content"},slot:"content"},[t._v("本班学员的平均课程完成率，是平均值。")]),t._v(" "),s("i",{staticClass:"tips"})])],1)]),t._v(" "),s("p",{staticClass:"black_36"},[s("span",[t._v(t._s(t.ProgressCm.average_progress)+"%")])])]),t._v(" "),s("div",{staticClass:"cards_3_r"},[s("p",{staticClass:"gray_14"},[s("span",{staticStyle:{position:"relative"}},[t._v("\n                    本班平均知识点掌握率\n                    "),s("el-tooltip",{attrs:{placement:"top"}},[s("div",{attrs:{slot:"content"},slot:"content"},[t._v("本班学员的平均知识点掌握率，是平均值。")]),t._v(" "),s("i",{staticClass:"tips"})])],1)]),t._v(" "),s("p",{staticClass:"black_36"},[s("span",{staticStyle:{"margin-left":"16px"}},[t._v(t._s(t.ProgressCm.knowledge_masteryrate)+"%")])])])])])],1),t._v(" "),s("el-col",{staticClass:"cards_educat",attrs:{span:12}},[s("el-card",{directives:[{name:"loading",rawName:"v-loading",value:t.ELoading,expression:"ELoading"}],attrs:{"body-style":{padding:"20px 0px 0px 0px"},"element-loading-text":"拼命加载中..."}},[s("div",{staticClass:"card_title",attrs:{slot:"header"},slot:"header"},[s("span",{staticClass:"black_14",staticStyle:{position:"relative"}},[t._v("做题情况")])]),t._v(" "),s("div",{staticClass:"card_contont clear"},[s("div",{staticClass:"cards_3_l"},[s("p",{staticClass:"gray_14"},[s("span",{staticStyle:{position:"relative"}},[t._v("\n                    本班平均做题数\n                    "),s("el-tooltip",{attrs:{placement:"top"}},[s("div",{attrs:{slot:"content"},slot:"content"},[t._v("本班学员的平均做题数，是平均值。")]),t._v(" "),s("i",{staticClass:"tips"})])],1)]),t._v(" "),s("p",{staticClass:"black_36"},[s("span",[t._v(t._s(t.ProgressCm.average_exercise_count))])])]),t._v(" "),s("div",{staticClass:"cards_3_r"},[s("p",{staticClass:"gray_14"},[s("span",{staticStyle:{position:"relative"}},[t._v("\n                    本班平均做题正确率\n                    "),s("el-tooltip",{attrs:{placement:"top"}},[s("div",{attrs:{slot:"content"},slot:"content"},[t._v("本班学员的平均做题正确率，是平均值。")]),t._v(" "),s("i",{staticClass:"tips"})])],1)]),t._v(" "),s("p",{staticClass:"black_36"},[s("span",[t._v(t._s(t.ProgressCm.average_exercise_accuracy)+"%")])])])])])],1)],1)],1)])])},staticRenderFns:[]},t.exports.render._withStripped=!0}});