/*! liulibiao modified this file at 2017-12-11 14:55:17 */
webpackJsonp([31],{227:function(e,t,s){function r(e){a||s(932)}var a=!1,n=s(53)(s(715),s(844),r,"data-v-28fcb2da",null);n.options.__file="/Users/liulibiao/Desktop/gaodun/resource-common /baiyi.gaodun.com/src/js/components/callCenter/CallMonitor.vue",n.esModule&&Object.keys(n.esModule).some(function(e){return"default"!==e&&"__"!==e.substr(0,2)})&&console.error("named exports are not supported in *.vue files."),n.options.functional&&console.error("[vue-loader] CallMonitor.vue: functional components are not supported with templates, they should use render functions."),e.exports=n.exports},612:function(e,t,s){var r,a;r=[t,s(23),s(8)],void 0!==(a=function(e,t,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GetVagueMyCustomClueList=e.GetMyCustomClueList=e.GetPublicUserTree=e.GetSalePublicPoolList=e.KickCluePool=e.Distribute=e.GetRecommendClueList=e.GetSaleNewClueStatistics=e.GetSaleNewClueSearchList=e.GetReservationCommunicatClueStatistics=e.GetReservationCommunicatClueList=e.GetRepeatedClueStatistics=e.GetRepeatedClueList=void 0;var r={Where:{},PageIndex:1,PageSize:10,OrderBy:"",SortCol:""};e.GetRepeatedClueList=function(e){return(0,t.post)("/SalesManagement/GetRepeatedClueList",e)},e.GetRepeatedClueStatistics=function(){return(0,t.post)("/SalesManagement/GetRepeatedClueStatistics",r)},e.GetReservationCommunicatClueList=function(e){return(0,t.post)("/SalesManagement/GetReservationCommunicatClueList",e)},e.GetReservationCommunicatClueStatistics=function(){return(0,t.post)("/SalesManagement/GetReservationCommunicatClueStatistics",{})},e.GetSaleNewClueSearchList=function(e){return(0,t.post)("/SalesManagement/GetSaleNewClueList",e)},e.GetSaleNewClueStatistics=function(){return(0,t.post)("/SalesManagement/GetSaleNewClueStatistics",r)},e.GetRecommendClueList=function(e){return(0,t.post)("/SalesManagement/GetRecommendClueList",e)},e.Distribute=function(e){return(0,t.post)("/ClueDistribute/Distribute",e)},e.KickCluePool=function(e){return(0,t.post)("/ClueDistribute/KickPool",e)},e.GetSalePublicPoolList=function(e){return(0,t.post)("/SalesManagement/GetSalePublicPoolList",e)},e.GetPublicUserTree=function(e){return(0,t.get)("/DataStru/GetDepartmentPublicUserTree",e)},e.GetMyCustomClueList=function(e){return(0,t.post)("/SalesManagement/GetMyCustomClueList",e)},e.GetVagueMyCustomClueList=function(e){return(0,t.post)("/SalesManagement/GetVagueMyCustomClueList",e)}}.apply(t,r))&&(e.exports=a)},613:function(e,t,s){function r(e){a||s(616)}var a=!1,n=s(53)(s(614),s(615),r,"data-v-0436d955",null);n.options.__file="/Users/liulibiao/Desktop/gaodun/resource-common /baiyi.gaodun.com/src/js/containers/Tree.vue",n.esModule&&Object.keys(n.esModule).some(function(e){return"default"!==e&&"__"!==e.substr(0,2)})&&console.error("named exports are not supported in *.vue files."),n.options.functional&&console.error("[vue-loader] Tree.vue: functional components are not supported with templates, they should use render functions."),e.exports=n.exports},614:function(e,t,s){var r,a;r=[e,t,s(43),s(42),s(5),s(87),s(612),s(131),s(21)],void 0!==(a=function(e,t,s,r,a,n,i,o,u){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var c=l(s),d=l(r);l(a);t.default={props:{width:String,currentValue:String,treeType:String,callback:Function,reset:Function,placeholder:String,allSelected:Function,index:Number},data:function(){return{showTree:!1,currentValue:this.value,userInfo:"",treeUserName:"",treeUserId:[],isRemove:!1,hasChange:!1,getUserData:[],defaultProps:{label:"Name",children:"ChildrenList"}}},watch:{currentValue:function(e){this.$refs.tree.filter(e)}},methods:{handleInput:function(e){var t=e.target.value;this.$emit("input",t),this.$emit("change",t),this.currentValue=t},onGetUserTree:function(){var e=this;return(0,d.default)(c.default.mark(function t(){var s;return c.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,n.GetAllowedUserTree)({userId:e.userInfo.UserId});case 2:s=t.sent,0===s.status&&(e.getUserData=s.result);case 4:case"end":return t.stop()}},t,e)}))()},onGetchannelsTree:function(){var e=this;return(0,d.default)(c.default.mark(function t(){var s;return c.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,n.getchannels)();case 2:s=t.sent,0===s.status&&(e.getUserData=s.result);case 4:case"end":return t.stop()}},t,e)}))()},onGetCustomerSourceTree:function(){var e=this;return(0,d.default)(c.default.mark(function t(){var s;return c.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,n.GetCustomerSourceTree)();case 2:s=t.sent,0===s.status&&(e.getUserData=s.result);case 4:case"end":return t.stop()}},t,e)}))()},onGetPublicUserTree:function(){var e=this;return(0,d.default)(c.default.mark(function t(){var s;return c.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,i.GetPublicUserTree)();case 2:s=t.sent,0===s.status&&(e.getUserData=s.result);case 4:case"end":return t.stop()}},t,e)}))()},onGetSourceDetailsTree:function(){var e=this;return(0,d.default)(c.default.mark(function t(){var s;return c.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,n.GetSourceDetailsTree)();case 2:s=t.sent,0===s.status&&(e.getUserData=s.result);case 4:case"end":return t.stop()}},t,e)}))()},onGetArea:function(){var e=this;return(0,d.default)(c.default.mark(function t(){var s;return c.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,n.GetArea)();case 2:s=t.sent,0===s.status&&(e.getUserData=s.result);case 4:case"end":return t.stop()}},t,e)}))()},onGetLabel:function(){var e=this;return(0,d.default)(c.default.mark(function t(){var s;return c.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,n.GetLabelList)();case 2:s=t.sent,0===s.status&&(e.getUserData=s.result);case 4:case"end":return t.stop()}},t,e)}))()},onTriggerTree:function(e){e.cancelBubble=!0,this.showTree=!1;for(var t=document.body.querySelectorAll(".tree-box"),s=0;s<t.length;s++)t[s].style.display="none";switch(this.$el.querySelector(".tree-box").style.display="block",this.treeType){case"source":0==this.getUserData.length&&this.onGetchannelsTree();break;case"channels":0==this.getUserData.length&&this.onGetCustomerSourceTree();break;case"public":0==this.getUserData.length&&this.onGetPublicUserTree();break;case"marketing":0==this.getUserData.length&&this.onGetSourceDetailsTree();break;case"getArea":0==this.getUserData.length&&this.onGetArea();break;case"label":0==this.getUserData.length&&this.onGetLabel();break;default:0==this.getUserData.length&&this.onGetUserTree()}},checkChangeTree:function(){var e=this.$refs.tree.getCheckedNodes();this.treeUserId=(0,o.checkedUserTree)(e).userId,this.treeUserName=(0,o.checkedUserTree)(e).userName,this.callback(this.treeUserId,this.index),this.hasChange=!0},filterNode:function(e,t){return!e||-1!==t.Name.indexOf(e)},onSelectNode:function(e){this.defaultKeys=e.Id},resetChecked:function(e){var t=this;e.stopPropagation(),this.callback(null),this.$el.querySelector(".tree-box").style.display="none",setTimeout(function(){t.showTree=!0},10),setTimeout(function(){t.showTree=!1},20),this.treeUserName="",this.treeUserId=[],this.currentValue="","function"==typeof this.allSelected&&this.allSelected()}},updated:function(){this.treeUserName.length?this.isRemove=!0:this.isRemove=!1},created:function(){this.userInfo=JSON.parse(localStorage.getItem(u.CRM_USER_INFO));this.curre},mounted:function(){this.$nextTick(function(){this.$on("resetTree",function(){var e=this;this.callback(null),setTimeout(function(){e.showTree=!0},10),setTimeout(function(){e.showTree=!1},20),this.treeUserName="",this.treeUserId=[],this.currentValue=""}),this.$on("setTree",function(){})}),document.body.onclick=function(){for(var e=document.body.querySelectorAll(".tree-box"),t=0;t<e.length;t++)e[t].style.display="none";this.hasChange&&("function"==typeof this.allSelected&&this.allSelected(),this.hasChange=!1)}.bind(this)}},e.exports=t.default}.apply(t,r))&&(e.exports=a)},615:function(e,t,s){e.exports={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"clues-search-tree"},[s("div",{staticClass:"tree-wrapper",on:{click:function(t){t.stopPropagation(),e.onTriggerTree(t)}}},[s("div",{staticStyle:{position:"relative"}},[s("i",{directives:[{name:"show",rawName:"v-show",value:e.isRemove,expression:"isRemove"}],staticClass:"tree-circle-close el-icon-circle-close",on:{click:function(t){t.stopPropagation(),e.resetChecked(t)}}}),e._v(" "),s("el-input",{staticClass:"tree-input-disabled",style:{width:e.width},attrs:{placeholder:e.placeholder?e.placeholder:"请选择",disabled:!0,title:e.treeUserName,size:"small"},model:{value:e.treeUserName,callback:function(t){e.treeUserName=t},expression:"treeUserName"}})],1),e._v(" "),e.showTree?e._e():s("div",{staticClass:"tree-box",style:{minWidth:e.width}},[s("div",{staticStyle:{width:"100%",position:"relative"}},[s("el-tree",{ref:"tree",staticClass:"filter-tree",attrs:{data:e.getUserData,"empty-text":"加载中...",props:e.defaultProps,"node-key":"Id","show-checkbox":"",accordion:"","filter-node-method":e.filterNode,"highlight-current":!0},on:{"check-change":e.checkChangeTree,getCheckedNodes:e.onSelectNode}}),e._v(" "),s("input",{staticClass:"search-text",attrs:{size:"small",placeholder:"输入关键字进行过滤"},domProps:{value:e.currentValue},on:{input:e.handleInput}})],1)])])])},staticRenderFns:[]},e.exports.render._withStripped=!0},616:function(e,t){},715:function(e,t,s){var r,a;r=[e,t,s(5),s(41),s(131),s(21),s(88),s(132),s(87),s(613)],void 0!==(a=function(e,t,s,r,a,n,i,o,u,l){"use strict";function c(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var d=(c(s),c(o),c(l));t.default={name:"module-ext-monitor",props:["self","item"],components:{Tree:d.default},data:function(){return{isShowUser:!1,filterText:"",defaultKeys:"1",defaultProps:{children:"ChildrenList",label:"Name"},isCheckChange:!1,getUserTree:[],UserIds:[],loading:!1,extStatusData:[],form:{},ruleForm:{users:[],extStatus:"",searchNo:""}}},created:function(){this.userInfo=JSON.parse(localStorage.getItem(n.CRM_USER_INFO))},watch:{createFilter:function(e){this.$refs.tree.filter(e)}},methods:{recordTree:function(e){this.UserIds=e},selectChange:function(){var e={UserIds:this.UserIds,ExtNo:"",Status:this.ruleForm.extStatus};this.queryExtStatus(e)},btnSearch:function(){var e={UserIds:[],ExtNo:this.ruleForm.searchNo,Status:"0"};this.queryExtStatus(e)},queryExtStatus:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{UserIds:this.UserIds,ExtNo:"",Status:"0"};this.loading=!0,(0,i.getExtStatus)(t).then(function(t){0==t.status?(e.extStatusData=t.result,e.loading=!1):e.loading=!1}).catch(function(){e.loading=!1})}},mounted:function(){var e=this;this.queryExtStatus(),(0,u.GetAllowedUserTree)().then(function(t){0===t.status&&(e.getUserTree=t.result)})}},e.exports=t.default}.apply(t,r))&&(e.exports=a)},844:function(e,t,s){e.exports={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"module-clues-content"},[s("el-row",[s("el-col",{attrs:{sm:14}},[s("div",{staticClass:"order-type-search",staticStyle:{"margin-right":"10px"}},[s("Tree",{ref:"callrecordTree",attrs:{width:"193px",allSelected:e.selectChange,callback:e.recordTree}})],1),e._v(" "),s("div",{staticClass:"order-type-search"},[s("el-select",{staticStyle:{width:"120px"},attrs:{clearable:"",size:"small",placeholder:"请选择状态"},on:{change:e.selectChange},model:{value:e.ruleForm.extStatus,callback:function(t){e.ruleForm.extStatus=t},expression:"ruleForm.extStatus"}},[s("el-option",{attrs:{label:"未签入",value:"1"}}),e._v(" "),s("el-option",{attrs:{label:"空闲",value:"2"}}),e._v(" "),s("el-option",{attrs:{label:"忙碌",value:"3"}}),e._v(" "),s("el-option",{attrs:{label:"通话中",value:"4"}})],1)],1)]),e._v(" "),s("el-col",{attrs:{sm:10}},[s("div",{staticClass:"clues-search",staticStyle:{float:"right"}},[s("el-input",{staticStyle:{width:"210px","font-size":"12px"},attrs:{placeholder:"根据分机号查询",size:"small"},on:{focus:e.onFocusType,blur:e.onBlurType},model:{value:e.ruleForm.searchNo,callback:function(t){e.ruleForm.searchNo=t},expression:"ruleForm.searchNo"}},[s("el-button",{attrs:{icon:"search"},on:{click:e.btnSearch},slot:"append"})],1)],1)])],1),e._v(" "),s("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"form",attrs:{model:e.form}},[s("div",{staticClass:"ext-container",staticStyle:{clear:"both"}},e._l(e.extStatusData,function(t){return s("div",{key:t.ExtNo,staticClass:"ext-item",staticStyle:{float:"left"}},[s("div",{staticClass:"ext-item-header"},[s("span",{class:{"ext-item-status-unsign":1==t.StatusId,"ext-item-status-idle":2==t.StatusId,"ext-item-status-busy":3==t.StatusId,"ext-item-status-talking":4==t.StatusId}},[s("span",{staticStyle:{"margin-left":"20px"}},[e._v(e._s(t.Status))])])]),e._v(" "),s("div",[s("ul",[s("li",[e._v("\n                            "+e._s(t.UserName)+"\n                        ")]),e._v(" "),s("li",[e._v("\n                            分机号 - "+e._s(t.ExtNo)+"\n                        ")]),e._v(" "),s("li",{directives:[{name:"show",rawName:"v-show",value:3==t.StatusId,expression:"item.StatusId==3"}]},[s("span",[e._v("置忙时间")]),e._v(" "),s("span",{staticStyle:{"margin-left":"5px"}},[e._v(e._s(t.BusyDuration))])]),e._v(" "),s("li",{directives:[{name:"show",rawName:"v-show",value:4==t.StatusId,expression:"item.StatusId==4"}]},[s("span",[e._v("通话时间")]),e._v(" "),s("span",{staticStyle:{"margin-left":"5px"}},[e._v(e._s(t.CallDuration))]),e._v(" "),s("span",{staticClass:"ext-monitor"},[e._v("监听")])])])])])}))])],1)},staticRenderFns:[]},e.exports.render._withStripped=!0},932:function(e,t){}});