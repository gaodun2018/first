/*! Gaodun modified this file at 2018-3-20 12:56:44 */
webpackJsonp([19],{235:function(e,t,s){function a(e){l||s(697)}var l=!1,o=s(38)(s(595),s(669),a,null,null);o.options.__file="C:\\www\\resource-common\\zeus-console.gaodun.com\\src\\js\\components\\SyllabusManage\\SyllabusModuleOptTemplate.vue",o.esModule&&Object.keys(o.esModule).some(function(e){return"default"!==e&&"__"!==e.substr(0,2)})&&console.error("named exports are not supported in *.vue files."),o.options.functional&&console.error("[vue-loader] SyllabusModuleOptTemplate.vue: functional components are not supported with templates, they should use render functions."),e.exports=o.exports},564:function(e,t,s){var a,l;a=[t,s(225),s(39),s(224)],void 0!==(l=function(e,t,s,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.checkclass=e.checkstudent=e.checkcoursemit=e.teachermin=e.getClassListout=e.addSyllabusResource=e.ChangeSyllabusItem=e.CourseSyllabusItem=e.selectSyllabus=e.CourseSyllabus=e.checkResIsInOutline=e.DeleteSyllabusItem=e.getSyllabusItems=e.checkSyllabus=e.CourseSyllabusTemplates=e.UpdateCourseSyllabus=e.ExamSyllabuses=e.CourseSyllabuses=e.getProjectSubject=void 0;e.getProjectSubject=function(e){return(0,t.get)((0,s.getBaseUrl)()+"apigateway.gaodun.com/saas-service/course/manage/get/project/subject/list",e)},e.CourseSyllabuses=function(e){return(0,t.get)((0,s.getBaseUrl)()+"apigateway.gaodun.com/saas-service/course-syllabuses",e)},e.ExamSyllabuses=function(e){return(0,t.get)((0,s.getBaseUrl)()+"apigateway.gaodun.com/saas-service/examination/syllabuses",e)},e.UpdateCourseSyllabus=function(e,a){return(0,t.put)((0,s.getBaseUrl)()+"apigateway.gaodun.com/saas-service/course-syllabus/"+e,a)},e.CourseSyllabusTemplates=function(e){return(0,t.get)((0,s.getBaseUrl)()+"apigateway.gaodun.com/saas-service/course-syllabus-templates",e)},e.checkSyllabus=function(e,a){return(0,t.get)((0,s.getBaseUrl)()+"apigateway.gaodun.com/saas-service/course-syllabus/"+e,a)},e.getSyllabusItems=function(e){return(0,t.get)((0,s.getBaseUrl)()+"apigateway.gaodun.com/saas-service/course/syllabus/items",e)},e.DeleteSyllabusItem=function(e,a){return(0,t.zDelete)((0,s.getBaseUrl)()+"apigateway.gaodun.com/saas-service/course/syllabus/item/"+e,a)},e.checkResIsInOutline=function(e,a,l){return(0,t.get)((0,s.getBaseUrl)()+"apigateway.gaodun.com/saas-service/course/syllabus/"+e+"/resources/"+a,l)},e.CourseSyllabus=function(e){return(0,a.formPost)((0,s.getBaseUrl)()+"apigateway.gaodun.com/saas-service/course-syllabus",e)},e.selectSyllabus=function(e,t){return(0,a.formPut)((0,s.getBaseUrl)()+"apigateway.gaodun.com/saas-service/course/syllabus/"+e+"/template",t)},e.CourseSyllabusItem=function(e){return(0,a.formPost)((0,s.getBaseUrl)()+"apigateway.gaodun.com/saas-service/course/syllabus/item",e)},e.ChangeSyllabusItem=function(e,t){return(0,a.formPut)((0,s.getBaseUrl)()+"apigateway.gaodun.com/saas-service/course/syllabus/item/"+e,t)},e.addSyllabusResource=function(e,t){return(0,a.formPut)((0,s.getBaseUrl)()+"apigateway.gaodun.com/saas-service/course/syllabus/item/"+e+"/resource",t)},e.getClassListout=function(e){return(0,t.get)((0,s.getBaseUrl)()+"apigateway.gaodun.com/saas-service/class/lists",e)},e.teachermin=function(e){return(0,t.get)((0,s.getBaseUrl)()+"apigateway.gaodun.com/saas-service/school/teacher",e)},e.checkcoursemit=function(e,a,l){return(0,t.get)((0,s.getBaseUrl)()+"apigateway.gaodun.com/saas-service/plan/class/get/"+e+"/course/"+a,l)},e.checkstudent=function(e,a,l){return(0,t.get)((0,s.getBaseUrl)()+"apigateway.gaodun.com/saas-service/plan/search/"+e+"/student/"+a,l)},e.checkclass=function(e,a,l,o){return(0,t.get)((0,s.getBaseUrl)()+"apigateway.gaodun.com/saas-service/plan/"+e+"/search/"+a+"/class/"+l,o)}}.apply(t,a))&&(e.exports=l)},595:function(e,t,s){var a,l;a=[e,t,s(129),s(128),s(4),s(564)],void 0!==(l=function(e,t,s,a,l,o){"use strict";function u(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=u(s),n=u(a);u(l);t.default={components:{},data:function(){return{clonedialogVisible:!1,ruleProject:{region:""},rulesject:{region:[{required:!0,message:"选择旧大纲",trigger:"change"}]},uploaddialogVisible:!1,coursesyllid:"",modulelist:[],title:""}},methods:{cloneruleProject:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;t.clonedialogVisible=!1})},selectSyllabus:function(e){var t=this;return(0,n.default)(r.default.mark(function s(){var a;return r.default.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,(0,o.selectSyllabus)(t.coursesyllid,{template_id:e});case 2:a=s.sent,0==a.status&&1==a.result&&t.$router.replace({path:"/syllabus/manage/edit/"+t.coursesyllid});case 4:case"end":return s.stop()}},s,t)}))()},OutlineTemplates:function(){var e=this;return(0,n.default)(r.default.mark(function t(){var s;return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,o.CourseSyllabusTemplates)();case 2:s=t.sent,0==s.status&&(e.modulelist=s.result);case 4:case"end":return t.stop()}},t,e)}))()},checkSyllabus:function(){var e=this;return(0,n.default)(r.default.mark(function t(){var s;return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,o.checkSyllabus)(e.coursesyllid);case 2:s=t.sent,0==s.status&&(e.title=s.result.title,s.result.template&&s.result.template.id&&e.$router.push({path:"/syllabus/manage/edit/"+e.coursesyllid}));case 4:case"end":return t.stop()}},t,e)}))()}},computed:{},mounted:function(){},created:function(){this.coursesyllid=this.$route.params.sid,this.OutlineTemplates(),this.checkSyllabus()}},e.exports=t.default}.apply(t,a))&&(e.exports=l)},669:function(e,t,s){e.exports={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"module-edu-content permission-outlineeat"},[s("div",{staticClass:"outlineeat"},[e._v("\n    课程大纲："+e._s(e.title)),e._v(" "),s("span",{staticClass:"cloneoutline",on:{click:function(t){e.clonedialogVisible=!0}}},[e._v("克隆旧课程大纲")]),e._v(" "),s("span",{staticClass:"tolead",on:{click:function(t){e.uploaddialogVisible=!0}}},[e._v("批量导入课程大纲")])]),e._v(" "),s("div",{staticClass:"outlinebox"},[s("div",{staticClass:"outlinetit"},[e._v("请先为该课程大纲选择合适的结构模板")]),e._v(" "),s("div",{staticClass:"outlinedrop"},e._l(e.modulelist,function(t,a){return s("div",{key:t.id,staticClass:"outlineitem",domProps:{innerHTML:e._s(t.description)},on:{click:function(s){e.selectSyllabus(t.id)}}})}))]),e._v(" "),s("el-dialog",{staticClass:"tabplane clonetab",attrs:{title:"克隆旧课程大纲",visible:e.clonedialogVisible,"before-close":e.handleClose},on:{"update:visible":function(t){e.clonedialogVisible=t}}},[s("el-form",{ref:"ruleProject",staticClass:"demo-ruleForm",attrs:{model:e.ruleProject,rules:e.rulesject,"label-width":"100px"}},[s("el-form-item",{attrs:{label:"选择旧大纲",prop:"region"}},[s("el-select",{attrs:{placeholder:"请选择旧大纲"},model:{value:e.ruleProject.region,callback:function(t){e.$set(e.ruleProject,"region",t)},expression:"ruleProject.region"}},[s("el-option",{attrs:{label:"ACCA",value:"ACCA"}}),e._v(" "),s("el-option",{attrs:{label:"CFA",value:"CFA"}})],1)],1),e._v(" "),s("div",{staticClass:"cloneinfo"},[e._v("注意：克隆之后，旧课程大纲上的资源关系也将被一并克隆。适用于：新考季的课程内容更新比率较小的情况。")]),e._v(" "),s("el-form-item",[s("el-button",{on:{click:function(t){e.adddialogVisible=!1}}},[e._v("取 消")]),e._v(" "),s("el-button",{attrs:{type:"primary"},on:{click:function(t){e.cloneruleProject("ruleProject")}}},[e._v("确 定")])],1)],1)],1),e._v(" "),s("el-dialog",{staticClass:"tabplane clonetab",attrs:{title:"批量导入",visible:e.uploaddialogVisible,size:"tiny","before-close":e.handleClose},on:{"update:visible":function(t){e.uploaddialogVisible=t}}},[s("el-upload",{staticClass:"upload-demo",attrs:{drag:"",action:"https://jsonplaceholder.typicode.com/posts/",multiple:""}},[s("i",{staticClass:"el-icon-upload"}),e._v(" "),s("div",{staticClass:"el-upload__text"},[e._v("将文件拖到此处，或"),s("em",[e._v("点击上传")])]),e._v(" "),s("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[s("em",[e._v("课程导入Excel模板")]),s("br"),e._v("提示：若模板Excel导入失败，请新建文件，将模板中内容复制到新文件中，再次尝试。")])])],1)],1)},staticRenderFns:[]},e.exports.render._withStripped=!0},697:function(e,t){}});