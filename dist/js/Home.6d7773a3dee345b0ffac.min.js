/*! Gaodun modified this file at 2018-3-20 09:33:24 */
webpackJsonp([22],{253:function(t,e,a){function n(t){r||a(682)}var r=!1,s=a(40)(a(613),a(648),n,null,null);s.options.__file="C:\\www\\resource-common\\zeus-console.gaodun.com\\src\\js\\containers\\Home.vue",s.esModule&&Object.keys(s.esModule).some(function(t){return"default"!==t&&"__"!==t.substr(0,2)})&&console.error("named exports are not supported in *.vue files."),s.options.functional&&console.error("[vue-loader] Home.vue: functional components are not supported with templates, they should use render functions."),t.exports=s.exports},613:function(t,e,a){var n,r;n=[t,e,a(50),a(222),a(221),a(49),a(227),a(225),a(16),a(33),a(228),a(62)],void 0!==(r=function(t,e,a,n,r,s,o,i,u,l,c,d){"use strict";function m(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var p=m(a),f=m(n),h=m(r),v=(0,l.getEnv)();e.default={data:function(){return{dialogFormVisible:!1,isRest:!1,ruleForm:{Account:"",Password:"",checked:""},loading:!1,loginFlag:!0}},created:function(){this.userInfo=JSON.parse(localStorage.getItem(u.SAAS_USER_INFO)),this.getCurrentUserMenuTree()},computed:{menu:function(){return JSON.parse(localStorage.getItem("SAAS_MENU"))},TrueName:function(){return this.userInfo&&this.userInfo.TrueName},CardImgUrl:function(){return this.userInfo&&this.userInfo.CardImgUrl}},methods:{clickRouter:function(t){if(!t.isAuth)return void this.stopHalt();for(var e in this.menu)if(t.NavigationId==this.menu[e].NavigationId){if(180302==this.menu[e].Path)switch(this.menu[e].Url){case"tiku":this.openTiku();break;default:window.open(this.menu[e].Url)}else this.updateCurrentMenu(this.menu[e]);return}},openTiku:function(){var t=(0,s.getCookie)(u.SAAS_TOKEN),e=(0,s.getCookie)(v+"GDSID"),a=localStorage.getItem(u.SAAS_USER_NAME);a=JSON.parse(a);var n={session_id:e,username:a};$.ajax({url:(0,l.getBaseUrl)()+"apigateway.gaodun.com/saas-service/tiku",type:"POST",async:!1,data:n,headers:{Authentication:"Basic "+t,"Content-Type":"application/x-www-form-urlencoded"},dataType:"json",beforeSend:function(t){},success:function(t,e,a){if(t&&553649409==t.status||553650183==t.status||553649952==t.status||553649434==t.status)return localStorage.clear(),location.href="/#/login",void location.reload();0==t.status&&window.open(t.result)},error:function(t,e){},complete:function(){}})},checkRouterPath:function(t){for(var e in t)if(t[e].isAuth){if(!t[e].ChildNavigations)return t[e].Url;if(t[e].ChildNavigations)return this.checkRouterPath(t[e].ChildNavigations)}},updateCurrentMenu:function(t){var e=this;if(t.ChildNavigations&&t.ChildNavigations[0].ChildNavigations){var a=t.ChildNavigations[0].ChildNavigations;console.log(a);var n=this.checkRouterPath(a),r=n;this.$router.push({path:n}),setTimeout(function(){e.$store.dispatch("updateCurrentTabId",r)},0)}else this.afterFunction()},afterFunction:function(){this.$message({message:"后续功能正在开发中~~"})},stopHalt:function(){this.$message({message:"您暂未开通权限"})},handleCommands:function(t){var e=this;return(0,h.default)(f.default.mark(function a(){var n,r,i,d;return f.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(n=(0,l.getEnv)(),"logout"!=t){a.next=9;break}return r={appid:c.appid,token:(0,s.getCookie)(u.SAAS_TOKEN)},a.next=5,(0,o.userLogout)(r);case 5:i=a.sent,0==i.status&&(d=new Date,d.setTime(d.getTime()-1),(0,s.setCookie)(u.SAAS_TOKEN,void 0,{expires:d}),(0,s.setCookie)(n+"GDSID",void 0,{expires:d}),localStorage.clear(),e.$store.state.navigation.currentLevelOneId=9,e.$router.push({path:"/login"})),a.next=10;break;case 9:case 10:case"end":return a.stop()}},a,e)}))()},getCurrentUserMenuTree:function(){var t=this;return(0,h.default)(f.default.mark(function e(){var a,n;return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=(0,s.getCookie)(v+"GDSID"),e.next=3,(0,o.getCurrentUserMenuTree)({appId:c.appid,GDSID:a});case 3:n=e.sent,0===n.status&&(t.reWriteEmptyUrl(n.result.Tpo_Sys_Navigations),localStorage.setItem(u.SAAS_MENU,(0,p.default)(n.result.Tpo_Sys_Navigations)),localStorage.setItem(u.SAAS_USER_FUNCTIONS,(0,p.default)(n.result.Tpo_sys_Functions)));case 5:case"end":return e.stop()}},e,t)}))()},reWriteEmptyUrl:function(t){for(var e in t)""===t[e].Url&&(t[e].Url=Math.random().toString()),t[e].Url.indexOf("Report")>-1&&(t[e].Url=t[e].Url.replace(/http.*key=/,"/Report/")),t[e].ChildNavigations&&this.reWriteEmptyUrl(t[e].ChildNavigations)}},mounted:function(){localStorage.removeItem(u.FORMAT_MENU),localStorage.removeItem(u.SAAS_CURRENT_MENU),localStorage.removeItem(u.SAAS_CURRENT_SUBMENU),localStorage.removeItem(u.SAAS_CURRENT_LEVEL_ONE_MENU),localStorage.removeItem(u.SAAS_CURRENT_LEVEL_TOP_MENU)}},t.exports=e.default}.apply(e,n))&&(t.exports=r)},648:function(t,e,a){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[a("div",{staticClass:"header"},[a("div",{staticClass:"w_1200 clear",staticStyle:{"max-width":"1200px",width:"100%"}},[a("a",{staticClass:"logo left",attrs:{href:"javascript:;"}}),t._v(" "),a("div",{staticClass:"user right"},[a("el-dropdown",{attrs:{trigger:"hover"},on:{command:t.handleCommands}},[a("span",{staticClass:"el-dropdown-link-2"},[t.CardImgUrl?a("img",{staticClass:"user_icon",attrs:{src:t.CardImgUrl,alt:"头像"}}):t._e(),t._v(" "),a("span",{staticClass:"user_name"},[t._v(t._s(t.TrueName))]),t._v(" "),a("i",{staticClass:"el-icon-caret-bottom el-icon--right"})]),t._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{attrs:{command:"logout"}},[t._v("退出")])],1)],1)],1)])]),t._v(" "),t._m(0),t._v(" "),a("div",{staticClass:"contentHome"},[a("ul",{staticClass:"console-menu clear"},t._l(t.menu,function(e,n){return a("li",{key:e.NavigationId,staticClass:"console-menu-items",on:{click:function(a){t.clickRouter(e)}}},[a("span",{staticClass:"item-icon",attrs:{id:e.Iconurl}}),t._v(" "),a("span",{staticClass:"item-title"},[t._v(t._s(e.Title))])])}))])])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"banner"},[a("div",{staticClass:"w_1200"},[a("h3",{staticClass:"banner_titt"},[t._v("高顿教育-财经云")]),t._v(" "),a("h4",{staticClass:"banner_titb"},[t._v("提供教学活动和教育资源管理、分析的一体化解决方案")])])])}]},t.exports.render._withStripped=!0},682:function(t,e){}});