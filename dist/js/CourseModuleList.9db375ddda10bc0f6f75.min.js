/*! Gaodun modified this file at 2018-3-26 18:55:20 */
webpackJsonp([15],{231:function(e,t,r){function s(e){a||r(688)}var a=!1,o=r(38)(r(580),r(653),s,null,null);o.options.__file="C:\\www\\resource-common\\zeus-console.gaodun.com\\src\\js\\components\\CourseManage\\CourseModuleList.vue",o.esModule&&Object.keys(o.esModule).some(function(e){return"default"!==e&&"__"!==e.substr(0,2)})&&console.error("named exports are not supported in *.vue files."),o.options.functional&&console.error("[vue-loader] CourseModuleList.vue: functional components are not supported with templates, they should use render functions."),e.exports=o.exports},566:function(e,t,r){var s,a;s=[t,r(225),r(224),r(49),r(39)],void 0!==(a=function(e,t,r,s,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SetCourseDisable=e.GetCourseDisable=e.changeStage=e.AddCourseStage=e.AddSourceIntro=e.SetCourse=e.addCourse=e.DeleteStage=e.getStageAndOutline=e.getCourseResourceIntro=e.updateCourseHandout=e.AddCourseHandout=e.deleteCourseHandout=e.getCourseHandout=e.getCourseInfo=e.searchCourse=e.getProjectSubject=void 0;e.getProjectSubject=function(e){return(0,t.get)((0,a.getBaseUrl)()+"apigateway.gaodun.com/saas-service/course/manage/get/project/subject/list",e)},e.searchCourse=function(e){return(0,t.get)((0,a.getBaseUrl)()+"apigateway.gaodun.com/saas-service/course/manage/search",e)},e.getCourseInfo=function(e,r){return(0,t.get)((0,a.getBaseUrl)()+"apigateway.gaodun.com/saas-service/course/"+e,r)},e.getCourseHandout=function(e,r){return(0,t.get)((0,a.getBaseUrl)()+"apigateway.gaodun.com/saas-service/course/"+e+"/handout",r)},e.deleteCourseHandout=function(e,r){return(0,t.zDelete)((0,a.getBaseUrl)()+"apigateway.gaodun.com/saas-service/handout/"+e,r)},e.AddCourseHandout=function(e){return(0,t.post)((0,a.getBaseUrl)()+"apigateway.gaodun.com/saas-service/handout",e)},e.updateCourseHandout=function(e,r){return(0,t.put)((0,a.getBaseUrl)()+"apigateway.gaodun.com/saas-service/handout/"+e,r)},e.getCourseResourceIntro=function(e,r){return(0,t.get)((0,a.getBaseUrl)()+"apigateway.gaodun.com/saas-service/course/"+e+"/source",r)},e.getStageAndOutline=function(e,r){return(0,t.get)((0,a.getBaseUrl)()+"apigateway.gaodun.com/course-api/course/"+e+"/admin/gradation",r)},e.DeleteStage=function(e,r){return(0,t.zDelete)((0,a.getBaseUrl)()+"apigateway.gaodun.com/saas-service/gradation/"+e,r)},e.addCourse=function(e){return(0,r.formPost)((0,a.getBaseUrl)()+"apigateway.gaodun.com/saas-service/course",e)},e.SetCourse=function(e,t){return(0,r.formPut)((0,a.getBaseUrl)()+"apigateway.gaodun.com/saas-service/course/"+e,t)},e.AddSourceIntro=function(e,t){return(0,r.formPost)((0,a.getBaseUrl)()+"apigateway.gaodun.com/saas-service/course/"+e+"/source",t)},e.AddCourseStage=function(e){return(0,r.formPost)((0,a.getBaseUrl)()+"apigateway.gaodun.com/saas-service/gradation",e)},e.changeStage=function(e,t){return(0,r.formPut)((0,a.getBaseUrl)()+"apigateway.gaodun.com/saas-service/gradation/"+e,t)},e.GetCourseDisable=function(e,r){return(0,t.get)((0,a.getBaseUrl)()+"apigateway.gaodun.com/saas-service/course/"+e+"/setting",r)},e.SetCourseDisable=function(e,t){return(0,r.formPut)((0,a.getBaseUrl)()+"apigateway.gaodun.com/saas-service/course/"+e+"/setting",t)}}.apply(t,s))&&(e.exports=a)},570:function(e,t,r){var s,a;s=[t],void 0!==(a=function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.initial_info='<span style="color:#97a8be;">请输入课程简介（字数建议控制在200-300字内）</span>',e.course_type=[{course_type_id:"0",name:"普通网课"},{course_type_id:"1",name:"任务制网课（选择考试时间）"},{course_type_id:"2",name:"任务制网课（选择自主学习时间）"},{course_type_id:"3",name:"自适应学习网课-EP"},{course_type_id:"4",name:"私播课-Glive+"}],e.options=[{value:"",label:"全部课程类型"},{value:"0",label:"普通网课"},{value:"1",label:"任务制网课（选择考试时间）"},{value:"2",label:"任务制网课（选择自主学习时间）"},{value:"3",label:"自适应学习网课-EP"},{value:"4",label:"私播课-Glive+"}],e.progressText=[{text:"基本设置",currentLine:"bar-line-current",currentDot:"bar-dot-current",currentText:"current-text",isCustomerConfirm:!0},{text:"功能模块",currentLine:"bar-line-current",currentDot:"bar-dot-current",currentText:"current-text",isCustomerConfirm:!1}]}.apply(t,s))&&(e.exports=a)},580:function(e,t,r){var s,a;s=[e,t,r(40),r(129),r(128),r(566),r(570)],void 0!==(a=function(e,t,r,s,a,o,n){"use strict";function u(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var c=u(r),i=u(s),l=u(a);t.default={components:{},data:function(){return{btnLoading:!1,loading:!1,selectfalg:!1,projectlist:[],subtablist:[],selectedlist:[],bSubject:!1,course_type:[{course_type_id:"0",name:"普通网课"},{course_type_id:"1",name:"任务制网课（选择考试时间）"},{course_type_id:"2",name:"任务制网课（选择自主学习时间）"},{course_type_id:"3",name:"自适应学习网课-EP"},{course_type_id:"4",name:"私播课-Glive+"}],selectvalue:"",options:n.options,ruleForm:{course_name:"",project_id:"",subject_id:"",course_type_id:""},dialogCourseVisible:!1,searchinput:"",clver:"0",clversm:"0",videoList:[],eduTotal:0,currentPage:1,pageSize:15}},computed:{},methods:{searchCourse:function(){var e=this;return(0,l.default)(i.default.mark(function t(){var r;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.loading=!0,t.next=3,(0,o.searchCourse)({project_id:e.clver,subject_id:e.clversm,page:e.currentPage,page_size:e.pageSize,course_type:e.selectvalue,course_id_name:e.searchinput});case 3:r=t.sent,0==r.status&&(e.loading=!1,e.videoList=r.result.item_list,e.eduTotal=r.result.all_item_count);case 5:case"end":return t.stop()}},t,e)}))()},visibleChange:function(e){this.selectfalg=e},changesearch:function(e){this.selectfalg&&(this.searchinput="",this.searchCourse())},handleIconClick:function(){this.clver="0",this.clversm="0",this.selectvalue="",this.searchCourse()},changeProject:function(e){for(var t in this.projectlist)if(this.projectlist[t].project_id==e){this.bSubject=!0;var r=[].concat(this.projectlist[t].subject_list);r.unshift({subject_id:"0",subject_name:"全部"}),this.selectedlist=r,this.ruleForm.subject_id="0"}},outlinechange:function(e,t){this.clver=e,this.subtablist="0"==e?[]:this.projectlist[t].subject_list,this.clversm="0",this.pageSize=15,this.currentPage=1,this.searchinput="",this.searchCourse()},mulchange:function(e){this.clversm=e,this.pageSize=15,this.currentPage=1,this.searchinput="",this.searchCourse()},closeDialog:function(e){this.bSubject=!1,this.dialogCourseVisible=!1,this.$refs[e].resetFields()},addCourse:function(e){var t=this;this.btnLoading=!0,(0,o.addCourse)((0,c.default)({},e)).then(function(e){t.btnLoading=!1,0==e.status&&(t.dialogCourseVisible=!1,t.bSubject=!1,t.clver="0",t.clversm="0",t.searchCourse(),t.$message({message:e.message,type:"success"}))}).catch(function(e){console.log(e)})},submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;t.addCourse(t.ruleForm)})},handleSizeChange:function(e){this.pageSize=e,this.searchCourse()},handleCurrentChange:function(e){console.log(e),this.currentPage=e,this.searchCourse()},getProjectSubject:function(){var e=this;return(0,l.default)(i.default.mark(function t(){var r;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,o.getProjectSubject)();case 2:r=t.sent,e.projectlist=r.result;case 4:case"end":return t.stop()}},t,e)}))()}},mounted:function(){this.getProjectSubject(),this.searchCourse()},created:function(){}},e.exports=t.default}.apply(t,s))&&(e.exports=a)},653:function(e,t,r){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"module-edu-content course-manage"},[r("div",{staticClass:"search_tools",staticStyle:{overflow:"hidden","margin-bottom":"22px"}},[r("el-row",[r("el-col",{attrs:{sm:24}},[r("div",{staticClass:"button_group_t"},[r("span",[e._v("项 目:")]),e._v(" "),r("span",{staticClass:"clitem",class:["0"===e.clver||0===e.clver?"current":""],on:{click:function(t){e.outlinechange("0")}}},[e._v("全部")]),e._v(" "),e._l(e.projectlist,function(t,s){return[r("span",{staticClass:"clitem",class:[t.project_id===e.clver?"current":""],on:{click:function(r){e.outlinechange(t.project_id,s)}}},[e._v(e._s(t.project_name))])]})],2),e._v(" "),r("div",{staticClass:"button_group_b"},[r("span",[e._v(" 科 目:")]),e._v(" "),r("span",{staticClass:"clitem",class:["0"===e.clversm||0===e.clversm?"current":""],on:{click:function(t){e.mulchange("0")}}},[e._v("全部")]),e._v(" "),e._l(e.subtablist,function(t,s){return[r("span",{staticClass:"clitem",class:[t.subject_id===e.clversm?"current":""],on:{click:function(r){e.mulchange(t.subject_id)}}},[e._v(e._s(t.subject_name))])]})],2)])],1),e._v(" "),r("el-row",{attrs:{type:"flex",align:"bottom"}},[r("el-col",{attrs:{sm:12}},[r("el-row",[r("div",{staticClass:"select-search"},[r("el-select",{attrs:{placeholder:"请选择",size:"small"},on:{change:e.changesearch,"visible-change":e.visibleChange},model:{value:e.selectvalue,callback:function(t){e.selectvalue=t},expression:"selectvalue"}},e._l(e.options,function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1)])],1),e._v(" "),r("el-col",{attrs:{sm:12}},[r("el-row",{attrs:{type:"flex",justify:"end"}},[r("div",{staticClass:"input-search"},[r("el-input",{attrs:{placeholder:"课程ID／课程名称",size:"small",icon:"search","on-icon-click":e.handleIconClick},nativeOn:{keydown:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key))return null;e.handleIconClick(t)}},model:{value:e.searchinput,callback:function(t){e.searchinput=t},expression:"searchinput"}}),e._v(" "),e.unlocking("COURSE_CREATE")?r("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){e.dialogCourseVisible=!0}}},[e._v("新增一个课程\n                        ")]):e._e()],1)])],1)],1)],1),e._v(" "),r("div",{staticClass:"edu_table"},[r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"multipleTable",staticStyle:{width:"100%"},attrs:{border:"",data:e.videoList},on:{"selection-change":e.handleSelectionChange}},[r("el-table-column",{attrs:{prop:"course_id",label:"课程id",width:"80",fixed:""}}),e._v(" "),r("el-table-column",{attrs:{prop:"course_name",label:"课程名称","min-width":"260"}}),e._v(" "),r("el-table-column",{attrs:{prop:"",label:"项目","min-width":"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s(t.row.project&&t.row.project.project_name))])]}}])}),e._v(" "),r("el-table-column",{attrs:{prop:"",label:"科目","min-width":"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s(t.row.subject&&t.row.subject.subject_name?t.row.subject.subject_name:"全部"))])]}}])}),e._v(" "),r("el-table-column",{attrs:{prop:"course_type",label:"网课类型","min-width":"260"},scopedSlots:e._u([{key:"default",fn:function(t){return[0==t.row.course_type?r("span",[e._v("普通网课")]):e._e(),e._v(" "),1==t.row.course_type?r("span",[e._v("任务制网课（选择考试时间）")]):e._e(),e._v(" "),2==t.row.course_type?r("span",[e._v("任务制网课（选择自主学习时间）")]):e._e(),e._v(" "),3==t.row.course_type?r("span",[e._v("自适应学习网课-EP")]):e._e(),e._v(" "),4==t.row.course_type?r("span",[e._v("私播课-Glive+")]):e._e()]}}])}),e._v(" "),r("el-table-column",{attrs:{fixed:"right",label:"操作",width:"200",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.unlocking("COURSE_BASIC_SET")?r("router-link",{staticClass:"routerBtn",staticStyle:{margin:"0 10px"},attrs:{to:"/course/manage/basic/set/"+t.row.course_id}},[e._v("基本设置\n                    ")]):e._e(),e._v(" "),e.unlocking("COURSE_CONTENT")?r("router-link",{staticClass:"routerBtn",staticStyle:{margin:"0 10px"},attrs:{to:"/course/manage/content/set/"+t.row.course_id}},[e._v("课程内容\n                    ")]):e._e()]}}])})],1),e._v(" "),r("div",{staticClass:"edu-pagination"},[r("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[15,30,50],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.eduTotal},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1),e._v(" "),r("el-dialog",{staticClass:"addCourse",attrs:{title:"新建课程",visible:e.dialogCourseVisible},on:{"update:visible":function(t){e.dialogCourseVisible=t},close:function(t){e.closeDialog("ruleForm")}}},[r("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,"label-width":"100px"}},[r("el-form-item",{attrs:{label:"课程名称",prop:"course_name",rules:e.filter_rules({required:!0,type:"isAllSpace",max:50})}},[r("el-input",{model:{value:e.ruleForm.course_name,callback:function(t){e.$set(e.ruleForm,"course_name",t)},expression:"ruleForm.course_name"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"所属项目",prop:"project_id",rules:[{required:!0,message:"请选择所属项目",trigger:"change"}]}},[r("el-select",{attrs:{placeholder:"请选择所属项目"},on:{change:e.changeProject},model:{value:e.ruleForm.project_id,callback:function(t){e.$set(e.ruleForm,"project_id",t)},expression:"ruleForm.project_id"}},e._l(e.projectlist,function(e,t){return r("el-option",{key:e.project_id,attrs:{label:e.project_name,value:e.project_id}})}))],1),e._v(" "),r("el-form-item",{attrs:{label:"所属科目",prop:"subject_id",rules:[{required:!0,message:"请选择所属科目",trigger:"change"}]}},[r("el-select",{attrs:{disabled:!e.bSubject,placeholder:"请选择所属科目"},model:{value:e.ruleForm.subject_id,callback:function(t){e.$set(e.ruleForm,"subject_id",t)},expression:"ruleForm.subject_id"}},e._l(e.selectedlist,function(e,t){return r("el-option",{key:e.subject_id,attrs:{label:e.subject_name,value:e.subject_id}})}))],1),e._v(" "),r("el-form-item",{attrs:{label:"网课类型",prop:"course_type_id",rules:[{required:!0,message:"请选择网课类型",trigger:"change"}]}},[r("el-select",{attrs:{placeholder:"请选择网课类型"},model:{value:e.ruleForm.course_type_id,callback:function(t){e.$set(e.ruleForm,"course_type_id",t)},expression:"ruleForm.course_type_id"}},e._l(e.course_type,function(e){return r("el-option",{key:e.course_type_id,attrs:{label:e.name,value:e.course_type_id}})}))],1),e._v(" "),r("el-form-item",{staticClass:"last-form-item"},[r("el-button",{on:{click:function(t){e.closeDialog("ruleForm")}}},[e._v("取消")]),e._v(" "),r("el-button",{attrs:{type:"primary",loading:e.btnLoading},on:{click:function(t){e.submitForm("ruleForm")}}},[e._v("\n                    "+e._s(e.btnLoading?"新建中":"确定")+"\n                ")])],1)],1)],1)],1)},staticRenderFns:[]},e.exports.render._withStripped=!0},688:function(e,t){}});