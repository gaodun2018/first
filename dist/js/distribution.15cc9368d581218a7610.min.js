/*! liulibiao modified this file at 2017-12-11 14:55:17 */
webpackJsonp([60],{636:function(e,t,n){function i(e){s||n(647)}var s=!1,o=n(53)(n(638),n(645),i,null,null);o.options.__file="/Users/liulibiao/Desktop/gaodun/resource-common /baiyi.gaodun.com/src/js/plugins/tree/ExtendZTree.vue",o.esModule&&Object.keys(o.esModule).some(function(e){return"default"!==e&&"__"!==e.substr(0,2)})&&console.error("named exports are not supported in *.vue files."),o.options.functional&&console.error("[vue-loader] ExtendZTree.vue: functional components are not supported with templates, they should use render functions."),e.exports=o.exports},638:function(e,t,n){var i,s;i=[e,t,n(639),n(35)],void 0!==(s=function(e,t,n,i){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}function o(e){var t;if(null==e||"object"!=(void 0===e?"undefined":(0,a.default)(e)))return e;if(e instanceof Date)return t=new Date,t.setTime(e.getTime()),t;if(e instanceof Array){t=[];for(var n=0,i=e.length;n<i;n++)t[n]=o(e[n]);return t}if(e instanceof Object){t={};for(var s in e)e.hasOwnProperty(s)&&(t[s]=o(e[s]));return t}throw new Error("Unable to copy obj! Its type isn't supported.")}Object.defineProperty(t,"__esModule",{value:!0});var r=s(n),a=s(i);window.zTreeIndex=window.zTreeIndex||90;var l=null,c={check:{enable:!0},data:{simpleData:{enable:!0},key:{name:"Name",title:"Name",children:"ChildrenList"}}},d="";t.default={props:{value:Array,width:String,data:Array,Id:String,onCheck:Function,placeholder:String,index:Number},data:function(){return{names:[],backData:[],showTree:!1,isEmpty:!1,options:{onCheck:function(){}}}},watch:{data:function(e){this.setCheckedNodes(this.value,this.data),this.backData=o(this.data),this.initTree()}},computed:{id:function(){return(10*Math.random()).toString().substring(2,10)},zTreeIndex:function(){return window.zTreeIndex--}},created:function(){d=this,this.setCheckedNodes(this.value,this.data),this.backData=o(this.data),this.options={onCheck:this.onCheck}},mounted:function(){c.callback={onCheck:this.test},this.initTree(),this.treeEvents(),this.$nextTick(function(){this.$on("resetTree",function(){this.clearCheckNodes()})})},methods:{test:function(){},onTreeCheck:function(){for(var e=this.getCheckedNodes(),t=[],n=[],i=e,s=Array.isArray(i),o=0,i=s?i:(0,r.default)(i);;){var a;if(s){if(o>=i.length)break;a=i[o++]}else{if(o=i.next(),o.done)break;a=o.value}var l=a,c=l.Id+"";n.indexOf(l.Id)>-1||c.indexOf("_")>-1||(t.push(l.Name),n.push(l.Id))}this.names=t,this.value=n,this.options.onCheck(n,this.index,t),this.setCheckedNodes(n,this.backData,!0)},initTree:function(){$("#"+this.id).zTree({zSetting:c,zNodes:this.data})},resetTree:function(){var e=$("#"+this.id).zTree("getZTreeObj");e.checkAllNodes(!1)},clearCheckNodes:function(){this.value=[],this.names=[],this.setCheckedNodes(this.value,this.data),this.options.onCheck(this.value,this.index,this.names),this.resetTree(),this.$el.querySelector(".g-extend-ztree-area").style.display="none"},getCheckedNodes:function(){return $("#"+this.id).zTree("getZTreeObj").getCheckedNodes()},setCheckedNodes:function(){function e(t,n){for(var o=t,a=Array.isArray(o),l=0,o=a?o:(0,r.default)(o);;){var c;if(a){if(l>=o.length)break;c=o[l++]}else{if(l=o.next(),l.done)break;c=l.value}var d=c;if(n.indexOf(d.Id)>-1){if(d.checked=!0,!i){if(s.names.indexOf(d.Name)>-1)continue;(-1==s.names.indexOf(d.Id)||/^\d/.test(d.Id))&&s.names.push(d.Name)}}else d.checked=!1;d.ChildrenList&&e(d.ChildrenList,n)}}var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments[1],i=arguments[2],s=this;e(n,t)},setChecked:function(e){this.value=e,this.names=[],this.setCheckedNodes(e,this.data,!1),this.initTree()},onChange:function(e){var t=this,n=this;clearTimeout(l),l=setTimeout(function(){var i=o(n.backData);t.filterData(i,e),t.isEmpty=0===i.length,$("#"+t.id).zTree({zSetting:c,zNodes:i})},300)},onFocus:function(e){e.stopPropagation(),this.showTree=!0},onClickStop:function(e){e.cancelBubble=!0,this.showTree=!0;for(var t=document.body.querySelectorAll(".g-extend-ztree-area"),n=0;n<t.length;n++)t[n].style.display="none";this.$el.querySelector(".g-extend-ztree-area").style.display="block"},filterData:function(e,t){for(var n=0;n<e.length;n++)if(e[n].ChildrenList){var i=this.childHasValue(e[n].ChildrenList,t);!0===i?this.filterData(e[n].ChildrenList,t):(e.splice(n,1),n--)}else{if(e[n].Name.indexOf(t)>-1)return!0;e.splice(n,1),n--}return!0},childHasValue:function(e,t){for(var n=0;n<e.length;n++){if(e[n].Name.indexOf(t)>-1)return!0;if(e[n].ChildrenList){return this.childHasValue(e[n].ChildrenList,t)}}},treeEvents:function(){document.body.onclick=function(){for(var e=document.body.querySelectorAll(".g-extend-ztree-area"),t=0;t<e.length;t++)e[t].style.display="none"}.bind(this)}}},e.exports=t.default}.apply(t,i))&&(e.exports=s)},639:function(e,t,n){e.exports={default:n(640),__esModule:!0}},640:function(e,t,n){n(91),n(90),e.exports=n(641)},641:function(e,t,n){var i=n(29),s=n(211);e.exports=n(3).getIterator=function(e){var t=s(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return i(t.call(e))}},645:function(e,t,n){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"g-extend-ztree-box",style:{zIndex:e.zTreeIndex,width:e.width},on:{click:function(t){t.stopPropagation(),e.onClickStop(t)}}},[e.names.length?n("i",{staticClass:"tree-circle-close el-icon-circle-close",on:{click:function(t){t.stopPropagation(),e.clearCheckNodes(t)}}}):e._e(),e._v(" "),n("el-input",{attrs:{type:"text",title:e.names,value:e.names,readonly:"",size:"small",placeholder:e.placeholder},on:{focus:e.onFocus}}),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.showTree,expression:"showTree"}],staticClass:"g-extend-ztree-area",on:{click:e.onTreeCheck}},[n("ul",{directives:[{name:"show",rawName:"v-show",value:!e.isEmpty,expression:"!isEmpty"}],staticClass:"ztree",attrs:{id:e.id}}),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.isEmpty,expression:"isEmpty"}],staticClass:"empty"},[n("i",{staticClass:"el-icon-information"}),e._v(" 未匹配到")]),e._v(" "),n("el-input",{attrs:{type:"text",size:"small",placeholder:"输入关键字进行过滤"},on:{change:this.onChange}})],1)],1)},staticRenderFns:[]},e.exports.render._withStripped=!0},647:function(e,t){},663:function(e,t,n){function i(e){s||n(963)}var s=!1,o=n(53)(n(718),n(884),i,null,null);o.options.__file="/Users/liulibiao/Desktop/gaodun/resource-common /baiyi.gaodun.com/src/js/components/cluesManage/CluesModalCluesDistribution.vue",o.esModule&&Object.keys(o.esModule).some(function(e){return"default"!==e&&"__"!==e.substr(0,2)})&&console.error("named exports are not supported in *.vue files."),o.options.functional&&console.error("[vue-loader] CluesModalCluesDistribution.vue: functional components are not supported with templates, they should use render functions."),e.exports=o.exports},718:function(e,t,n){var i,s;i=[e,t,n(5),n(41),n(131),n(21),n(636),n(87)],void 0!==(s=function(e,t,n,i,s,o,r,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var c=(l(n),l(r));t.default={props:["self","modal"],components:{Tree:c.default},data:function(){return{getUserId:[],createData:[],isDistribute:!1,isLoading:!1}},methods:{distributionTree:function(e){this.getUserId=e},onDistribution:function(){var e=this;if(0===this.getUserId.length)return void this.self.$message({message:"请选择分配信息",type:"warning"});var t={CluesIds:this.self.$store.state.cluesManage.getDistributionGuid,UserIds:this.getUserId};this.isLoading=!0,(0,a.Distribute)(t).then(function(t){e.isLoading=!1,0===t.status&&(e.self.$message({message:"线索分配成功",type:"success"}),e.isDistribute=!0,e.modal.close())}).catch(function(){})}},mounted:function(){document.body.querySelector(".mint-msgbox-content").style.overflow="-webkit-paged-x"},created:function(){var e=this,t=JSON.parse(localStorage.getItem(o.CRM_USER_INFO));(0,a.GetAllowedUserTree)({userId:t.UserId}).then(function(t){0===t.status&&(e.createData=t.result)})}},e.exports=t.default}.apply(t,i))&&(e.exports=s)},884:function(e,t,n){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"loading",rawName:"v-loading",value:e.isLoading,expression:"isLoading"}],staticStyle:{"margin-top":"10px"}},[n("div",{staticClass:"clues-distribution"},[n("span",{staticStyle:{"font-size":"14px",float:"left","padding-right":"5px"}},[e._v("分配给:")]),e._v(" "),n("Tree",{staticStyle:{display:"inline-block"},attrs:{width:"335px",placeholder:"请选择分配人员",data:e.createData,onCheck:e.distributionTree}}),e._v(" "),n("el-button",{staticStyle:{width:"70px",height:"30px","vertical-align":"top",background:"#42aedf",border:"0"},attrs:{size:"small",type:"primary"},on:{click:e.onDistribution}},[e._v("分配")])],1)])},staticRenderFns:[]},e.exports.render._withStripped=!0},963:function(e,t){}});